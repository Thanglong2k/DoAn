{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\views\\product-detail\\popup\\customer-info-popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\views\\product-detail\\popup\\customer-info-popup.vue","mtime":1647789199562},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgc2hvdzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgdGl0bGU6ew0KICAgICAgdHlwZTpTdHJpbmcsDQogICAgICBkZWZhdWx0OiIiDQogICAgfSwNCiAgICB0eXBlOnsNCiAgICAgIHR5cGU6TnVtYmVyLA0KICAgICAgZGVmYXVsdDowDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIC8vIHZhciB2YWxpZGF0ZUVtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgIC8vICAgY29uc3QgcmVnZXg9L14oKFtePD4oKVtcXVxcLiw7OlxzQFwiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC8NCiAgICAvLyAgICAgaWYgKHZhbHVlICE9PSAnJyYmICF2YWx1ZS5tYXRjaChyZWdleCkpIHsNCiAgICAvLyAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0LhuqFuIMSRw6Mgbmjhuq1wIHNhaSDEkeG7i25oIGThuqFuZyBFbWFpbCcpKTsNCiAgICAvLyAgICAgfQ0KICAgIC8vICAgfTsNCiAgICByZXR1cm4gew0KICAgICAgbW9kZWxEaWFsb2c6IHRoaXMuc2hvdywNCiAgICAgIG1vZGVsRm9ybTogew0KICAgICAgICBGdWxsTmFtZTogIiIsDQogICAgICAgIFBob25lTnVtYmVyOiAiIiwNCiAgICAgICAgRW1haWw6ICIiLA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIEZ1bGxOYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIkjDo3kgbmjhuq1wIHRow7RuZyB0aW4hIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyBtaW46IDMsIG1lc3NhZ2U6ICJUw6puIHThu5FpIHRoaeG7g3UgMyBrw60gdOG7sSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBQaG9uZU51bWJlcjogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICJIw6N5IG5o4bqtcCB0aMO0bmcgdGluISIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBFbWFpbDogWw0KICAgICAgICAgIC8vIHt2YWxpZGF0b3I6dmFsaWRhdGVFbWFpbCx0cmlnZ2VyOiAnYmx1cid9DQogICAgICAgIF0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoImV2YWx1YXRpb24iLCBbInZhbHVlUmF0aW5nIiwgImNvbnRlbnRSYXRpbmciXSksDQogICAgLi4ubWFwU3RhdGUoInByb2R1Y3QiLCBbInByb2R1Y3QiXSksDQogICAgLi4ubWFwU3RhdGUoIm9yZGVyIiwgWw0KICAgICAgImlzQ2hlY2tDdXN0b21lclB1cmNoYXNlZFByb2R1Y3QiLA0KICAgICAgImN1c3RvbWVySURQdXJjaGFzZWQiLA0KICAgIF0pLA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucygib3JkZXIiLCBbImNoZWNrQ3VzdG9tZXJQdXJjaGFzZWRQcm9kdWN0Il0pLA0KICAgIC4uLm1hcEFjdGlvbnMoImV2YWx1YXRpb24iLCBbImluc2VydFJldmlld09mUHJvdWN0Il0pLA0KICAgIHNldE1vZGVsKCkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgbWUubW9kZWxEaWFsb2cgPSB0cnVlOw0KICAgIH0sDQogICAgLyoqDQogICAgICogR+G7rWkgxJHDoW5oIGdpw6ENCiAgICAgKi8NCiAgICBhc3luYyBzZW5kUmV2aWV3KCkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgbWUuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmKG1lLnR5cGU9PT1tZS4kZW51bWVyYXRpb24uQ3VzdG9tZXJJbmZvUG9wdXAuUmV2aWV3KXsNCg0KICAgICAgICAgICAgbWUuJGVtaXQoJ3NhdmVSZXZpZXcnLG1lLm1vZGVsRm9ybSkNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIG1lLiRlbWl0KCdzYXZlQ29tbWVudCcsbWUubW9kZWxGb3JtKQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIG1lLm1vZGVsRGlhbG9nID0gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["customer-info-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"customer-info-popup.vue","sourceRoot":"src/components/client/views/product-detail/popup","sourcesContent":["<template>\r\n  <el-dialog\r\n    ref=\"dialog\"\r\n    :title=\"title\"\r\n    :visible.sync=\"modelDialog\"\r\n  >\r\n    <template #default>\r\n      <el-form\r\n        :model=\"modelForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-width=\"120px\"\r\n        label-position=\"top\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item :label=\"$t('Input.FullName')\" prop=\"FullName\">\r\n          <!-- <label>{{$t('Input.FullName')}}<span class=\"tw-text-red-400\">*</span></label> -->\r\n          <el-input\r\n            v-model=\"modelForm.FullName\"\r\n            :placeholder=\"$t('Input.FullNameInput')\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('Input.PhoneNumber')\" prop=\"PhoneNumber\">\r\n          <!-- <label>{{$t('Input.PhoneNumber')}}<span class=\"tw-text-red-400\">*</span></label> -->\r\n          <el-input\r\n            v-model=\"modelForm.PhoneNumber\"\r\n            :placeholder=\"$t('Input.PhoneNumberInput')\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('Input.Email')\" prop=\"Email\">\r\n          <!-- <label>{{$t('Input.Email')}}</label> -->\r\n          <el-input\r\n            v-model=\"modelForm.Email\"\r\n            :placeholder=\"$t('Input.EmailInput')\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n    </template>\r\n    <template #footer>\r\n      <el-button @click=\"sendReview\" class=\"send-btn\">{{\r\n        $t(\"Button.Send\")\r\n      }}</el-button>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    title:{\r\n      type:String,\r\n      default:\"\"\r\n    },\r\n    type:{\r\n      type:Number,\r\n      default:0\r\n    }\r\n  },\r\n  data() {\r\n    // var validateEmail = (rule, value, callback) => {\r\n    //   const regex=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    //     if (value !== ''&& !value.match(regex)) {\r\n    //       callback(new Error('Bạn đã nhập sai định dạng Email'));\r\n    //     }\r\n    //   };\r\n    return {\r\n      modelDialog: this.show,\r\n      modelForm: {\r\n        FullName: \"\",\r\n        PhoneNumber: \"\",\r\n        Email: \"\",\r\n      },\r\n      rules: {\r\n        FullName: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n          { min: 3, message: \"Tên tối thiểu 3 kí tự\", trigger: \"blur\" },\r\n        ],\r\n        PhoneNumber: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        Email: [\r\n          // {validator:validateEmail,trigger: 'blur'}\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"evaluation\", [\"valueRating\", \"contentRating\"]),\r\n    ...mapState(\"product\", [\"product\"]),\r\n    ...mapState(\"order\", [\r\n      \"isCheckCustomerPurchasedProduct\",\r\n      \"customerIDPurchased\",\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"order\", [\"checkCustomerPurchasedProduct\"]),\r\n    ...mapActions(\"evaluation\", [\"insertReviewOfProuct\"]),\r\n    setModel() {\r\n      const me = this;\r\n      me.modelDialog = true;\r\n    },\r\n    /**\r\n     * Gửi đánh giá\r\n     */\r\n    async sendReview() {\r\n      const me = this;\r\n      me.$refs[\"ruleForm\"].validate(async (valid) => {\r\n        if (valid) {\r\n          if(me.type===me.$enumeration.CustomerInfoPopup.Review){\r\n\r\n            me.$emit('saveReview',me.modelForm)\r\n          }else{\r\n            me.$emit('saveComment',me.modelForm)\r\n          }\r\n\r\n          me.modelDialog = false;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.send-btn {\r\n  @apply tw-bg-red-500 tw-text-white !important;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n::v-deep {\r\n  .el-dialog__body {\r\n    padding-top: 14px;\r\n  }\r\n}\r\n</style>"]}]}