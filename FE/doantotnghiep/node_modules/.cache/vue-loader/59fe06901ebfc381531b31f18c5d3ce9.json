{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\post\\post-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\post\\post-list.vue","mtime":1655783619687},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2VJbmRleDogMSwNCiAgICAgIHBhZ2VTaXplOiA1LA0KICAgICAgcGFnZUluZGV4UHJvZHVjdDoxLA0KICAgICAgcGFnZVNpemVQcm9kdWN0OjUNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICBwcm9kdWN0SUQ6IG1lLiRyb3V0ZS5xdWVyeS5wcm9kdWN0LA0KICAgICAgcGFnZUluZGV4OiBtZS5wYWdlSW5kZXgsDQogICAgICBwYWdlU2l6ZTogbWUucGFnZVNpemUsDQogICAgfTsNCiAgICBtZS5nZXRQb3N0QnlQcm9kdWN0SUQocGFyYW1zKTsNCiAgICBtZS5nZXRQcm9kdWN0QnlJRChtZS4kcm91dGUucXVlcnkucHJvZHVjdCk7DQogICAgY29uc3QgcGFyYW1OZXdQcm9kdWN0UG9zdD17DQogICAgICBwcm9kdWN0SUQ6IG1lLiRyb3V0ZS5xdWVyeS5wcm9kdWN0LA0KICAgICAgcGFnZUluZGV4OiBtZS5wYWdlSW5kZXhQcm9kdWN0LA0KICAgICAgcGFnZVNpemU6IG1lLnBhZ2VTaXplUHJvZHVjdCwNCiAgICB9DQogICAgbWUuZ2V0TmV3UHJvZHVjdFBvc3RzKHBhcmFtTmV3UHJvZHVjdFBvc3QpDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoInBvc3QiLCBbInBvc3RzIiwicG9zdFRvdGFsIl0pLA0KICAgIC4uLm1hcFN0YXRlKCJwcm9kdWN0IiwgWyJwcm9kdWN0IiwibmV3UHJvZHVjdFBvc3RzIiwibmV3UHJvZHVjdFRvdGFsIiwibmV3UGFnZVRvdGFsIl0pLA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucygicG9zdCIsIFsiZ2V0UG9zdEJ5UHJvZHVjdElEIl0pLA0KICAgIC4uLm1hcEFjdGlvbnMoInByb2R1Y3QiLCBbImdldFByb2R1Y3RCeUlEIiwiZ2V0TmV3UHJvZHVjdFBvc3RzIl0pLA0KICAgIC4uLm1hcE11dGF0aW9ucygicHJvZHVjdCIsWyJzZXROZXdQcm9kdWN0UG9zdHMiXSksDQogICAgdmlld0RldGFpbFByb2R1Y3QoKSB7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiSWRfUHJvZHVjdCIsIG1lLnByb2R1Y3QuUHJvZHVjdElEKTsNCiAgICAgIG1lLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICJQcm9kdWN0RGV0YWlsIiwNCiAgICAgICAgcGFyYW1zOiB7IHByb2R1Y3RNZXRhOiBtZS5wcm9kdWN0Lk1ldGEgfSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgdmlld0RldGFpbFBvc3QocG9zdElEKXsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIGRlYnVnZ2VyDQogICAgICBtZS4kcm91dGVyLnB1c2goYC9wb3N0LyR7bWUucHJvZHVjdC5NZXRhfS8ke3Bvc3RJRH1gKTsNCiAgICB9LA0KICAgIHZpZXdNb3JlUHJvZHVjdCgpew0KICAgICAgY29uc3QgbWU9dGhpcw0KICAgICAgbWUucGFnZUluZGV4UHJvZHVjdCsrDQogICAgICBjb25zdCBwYXJhbXM9ew0KICAgICAgcHJvZHVjdElEOiBtZS4kcm91dGUucXVlcnkucHJvZHVjdCwNCiAgICAgIHBhZ2VJbmRleDogbWUucGFnZUluZGV4UHJvZHVjdCwNCiAgICAgIHBhZ2VTaXplOiBtZS5wYWdlU2l6ZVByb2R1Y3QsDQogICAgfQ0KICAgIG1lLmdldE5ld1Byb2R1Y3RQb3N0cyhwYXJhbXMpDQogICAgfSwNCiAgICB2aWV3UHJvZHVjdFBvc3QocHJvZHVjdCl7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQogICAgICBtZS5zZXROZXdQcm9kdWN0UG9zdHMoW10pDQogICAgICBtZS4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAiL3Bvc3RzIiwNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LlByb2R1Y3QuUHJvZHVjdElELA0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["post-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"post-list.vue","sourceRoot":"src/components/client/components/post","sourcesContent":["<template>\r\n  <div class=\"post-list-container tw-flex\" v-if=\"product\">\r\n    <div class=\"post-list-area tw-bg-white tw-p-5 tw-w-9/12\">\r\n      <div class=\"title-list\">\r\n        {{postTotal}} bài viết về \"<span class=\"tw-text-gray-800 tw-font-bold\"\r\n          >{{product.ProductName}}</span\r\n        >\"\r\n      </div>\r\n      <div class=\"post-list\">\r\n        <div\r\n          class=\"post tw-flex tw-mt-4\"\r\n          v-for=\"(item, index) in posts\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"avatar-post tw-mr-6 tw-w-56 tw-h-32 tw-cursor-pointer\" @click=\"viewDetailPost(item.Post.PostID)\">\r\n            <img class=\"tw-w-full tw-h-full\" :src=\"item.Post.Avatar\"/>\r\n          </div>\r\n          <div class=\"content-post\">\r\n            <div class=\"post-title tw-text-gray-800 tw-font-bold tw-text-lg tw-cursor-pointer\" @click=\"viewDetailPost(item.Post.PostID)\">\r\n              {{ item.Post.Title }}\r\n            </div>\r\n            <div class=\"post-description tw-text-xs tw-text-gray-400 tw-mt-3\">\r\n              {{ item.Post.Description }}\r\n            </div>\r\n            <div class=\"info-user-post tw-text-gray-400 tw-text-xs tw-mt-3\">\r\n              <span class=\"user-name\">{{ item.Account.FullName }}</span>\r\n              <span class=\"post-time\">- {{ $commonFn.formatDate(new Date(item.Post.CreatedDate),'dd/MM/yyyy hh:mm') }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"reference tw-flex-1\">\r\n      <div class=\"product-of-post tw-bg-white tw-ml-6 tw-p-4\">\r\n        <div class=\"product-avatar tw-w-48 tw-h-48\">\r\n          <img class=\"tw-w-full tw-h-full\" :src=\"product.Avatar\" />\r\n        </div>\r\n        <div class=\"product-info\">\r\n          <div class=\"product-name tw-font-bold tw-text-blue-500\">\r\n            {{ product.ProductName }}\r\n          </div>\r\n          <div\r\n            class=\"view-detail tw-text-xs tw-text-blue-400 tw-cursor-pointer\"\r\n            @click=\"viewDetailProduct\"\r\n          >\r\n            Xem chi tiết\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"new-product-list tw-bg-white tw-ml-6 tw-p-4 tw-mt-6\">\r\n        <div\r\n          class=\"\r\n            list-title\r\n            tw-border-b-2\r\n            tw-border-gray-400\r\n            tw-border-solid\r\n            tw-text-gray-700\r\n            tw-font-semibold\r\n          \"\r\n        >\r\n          Sản phẩm mới\r\n        </div>\r\n        <div class=\"product-list\">\r\n          <div\r\n            class=\"\r\n              product\r\n              tw-flex\r\n              hover:tw-bg-gray-100\r\n              tw-cursor-pointer tw-mt-4\r\n            \"\r\n            v-for=\"(item,index) in newProductPosts\"\r\n            :key=\"index\"\r\n            @click=\"viewProductPost(item)\"\r\n          >\r\n            <div class=\"avatar-product tw-w-20 tw-h-20 tw-ml-3\">\r\n              <img class=\"tw-w-full tw-h-full\" :src=\"item.Product.Avatar\"/>\r\n            </div>\r\n            <div class=\"content-product tw-flex-1\">\r\n              <div class=\"product-name\">{{item.Product.ProductName}}</div>\r\n              <div class=\"post-quantity tw-text-xs tw-text-blue-400\">\r\n                {{item.PostQuantity}} bài viết\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div\r\n            class=\"\r\n              view-more\r\n              tw-text-xs\r\n              tw-text-blue-400\r\n              tw-text-center\r\n              tw-mt-3\r\n              tw-cursor-pointer\r\n            \"\r\n            @click=\"viewMoreProduct\"\r\n            v-if=\"newProductPosts.length<newProductTotal\"\r\n          >\r\n            Xem thêm\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageIndex: 1,\r\n      pageSize: 5,\r\n      pageIndexProduct:1,\r\n      pageSizeProduct:5\r\n    };\r\n  },\r\n  created() {\r\n    const me = this;\r\n    const params = {\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndex,\r\n      pageSize: me.pageSize,\r\n    };\r\n    me.getPostByProductID(params);\r\n    me.getProductByID(me.$route.query.product);\r\n    const paramNewProductPost={\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndexProduct,\r\n      pageSize: me.pageSizeProduct,\r\n    }\r\n    me.getNewProductPosts(paramNewProductPost)\r\n  },\r\n  computed: {\r\n    ...mapState(\"post\", [\"posts\",\"postTotal\"]),\r\n    ...mapState(\"product\", [\"product\",\"newProductPosts\",\"newProductTotal\",\"newPageTotal\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"post\", [\"getPostByProductID\"]),\r\n    ...mapActions(\"product\", [\"getProductByID\",\"getNewProductPosts\"]),\r\n    ...mapMutations(\"product\",[\"setNewProductPosts\"]),\r\n    viewDetailProduct() {\r\n      const me = this;\r\n      localStorage.setItem(\"Id_Product\", me.product.ProductID);\r\n      me.$router.push({\r\n        name: \"ProductDetail\",\r\n        params: { productMeta: me.product.Meta },\r\n      });\r\n    },\r\n    viewDetailPost(postID){\r\n      const me = this;\r\n      debugger\r\n      me.$router.push(`/post/${me.product.Meta}/${postID}`);\r\n    },\r\n    viewMoreProduct(){\r\n      const me=this\r\n      me.pageIndexProduct++\r\n      const params={\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndexProduct,\r\n      pageSize: me.pageSizeProduct,\r\n    }\r\n    me.getNewProductPosts(params)\r\n    },\r\n    viewProductPost(product){\r\n      const me = this;\r\n      me.setNewProductPosts([])\r\n      me.$router.push({\r\n        path: \"/posts\",\r\n        query: {\r\n          product: product.Product.ProductID,\r\n        },\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.post-list-container{\r\n  .post-list-area{\r\n    .post-list{\r\n      .post{\r\n        .content-post{\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}