{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\receipts\\popup\\products-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\receipts\\popup\\products-select.vue","mtime":1652496719240},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQpkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtb2RlbERpYWxvZzogZmFsc2UsDQogICAgICBtb2RlbEZvcm06IHt9LA0KICAgICAgcHJldmlldzpudWxsLA0KICAgICAgcnVsZXM6IHt9LA0KICAgICAgcGFnZUluZGV4OjEsDQogICAgICBwYWdlU2l6ZToxMCwNCiAgICAgIHBhZ2VTaXplczpbMTAsIDIwLCAzMCwgNDBdLA0KICAgICAgc2VhcmNoOicnLA0KICAgICAgc2VsZWN0ZWRQcm9kdWN0czpbXSwNCiAgICAgIGluZGV4U2VsZWN0ZWRQcm9kdWN0czpbXSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDp7DQogICAgICAuLi5tYXBTdGF0ZSgncHJvZHVjdCcsWydwcm9kdWN0cycsJ3Byb2R1Y3RUb3RhbCcsJ3BhZ2VUb3RhbCddKQ0KICB9LA0KICBjcmVhdGVkKCl7DQogICAgICBjb25zdCBtZT10aGlzDQogICAgICANCiAgICAgIG1lLmdldFByb2R1Y3RzKG1lLnBhZ2VJbmRleCxtZS5wYWdlU2l6ZSkNCiAgfSwNCiAgbWV0aG9kczp7DQogICAgICAuLi5tYXBBY3Rpb25zKCdwcm9kdWN0JyxbJ2dldFByb2R1Y3RBbmRQcm9kdWN0QXR0cmlidXRlJ10pLA0KICAgICAgc2V0TW9kZWwodmFsdWUpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIG1lLm1vZGVsRGlhbG9nID0gdmFsdWU7DQogICAgfSwNCiAgICBnZXRQcm9kdWN0cyhwYWdlSW5kZXgscGFnZVNpemUpew0KICAgICAgY29uc3QgbWU9dGhpcw0KICAgICAgY29uc3QgcGFyYW1zPXsNCiAgICAgICAgcGFnZUluZGV4OnBhZ2VJbmRleCwNCiAgICAgICAgcGFnZVNpemU6cGFnZVNpemUNCiAgICAgIH0NCiAgICAgIG1lLmdldFByb2R1Y3RBbmRQcm9kdWN0QXR0cmlidXRlKHBhcmFtcyk7DQogICAgfSwNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgY29uc3QgbWU9dGhpcw0KICAgICAgbWUucGFnZVNpemU9dmFsDQogICAgICBtZS5nZXRQcm9kdWN0cyhtZS5wYWdlSW5kZXgsbWUucGFnZVNpemUpDQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgY29uc3QgbWU9dGhpcw0KICAgICAgbWUuY3VycmVudFBhZ2U9dmFsDQogICAgICBtZS5nZXRQcm9kdWN0cyhtZS5wYWdlSW5kZXgsbWUucGFnZVNpemUpDQogICAgfSwNCiAgICBzZWxlY3RQcm9kdWN0KHByb2R1Y3Qpew0KICAgICAgICBjb25zdCBtZT10aGlzDQogICAgICAgIA0KICAgICAgICBtZS5zZWxlY3RlZFByb2R1Y3RzLnB1c2gocHJvZHVjdCkNCiAgICAgICAgbWUuaW5kZXhTZWxlY3RlZFByb2R1Y3RzLnB1c2gocHJvZHVjdC5Qcm9kdWN0QXR0cmlidXRlLlByb2R1Y3RBdHRyaWJ1dGVJRCkNCiAgICB9LA0KICAgIGNhbmNlbFNlbGVjdFByb2R1Y3QocHJvZHVjdCl7DQogICAgICAgIGNvbnN0IG1lPXRoaXMNCiAgICAgICAgDQogICAgICAgIG1lLnNlbGVjdGVkUHJvZHVjdHM9bWUuc2VsZWN0ZWRQcm9kdWN0cy5maWx0ZXIoaXRlbT0+ew0KICAgICAgICAgICAgcmV0dXJuIGl0ZW0uUHJvZHVjdEF0dHJpYnV0ZS5Qcm9kdWN0SUQhPT1wcm9kdWN0LlByb2R1Y3RBdHRyaWJ1dGUuUHJvZHVjdElEfHxpdGVtLlByb2R1Y3RBdHRyaWJ1dGUuUHJvZHVjdEF0dHJpYnV0ZUlEIT09cHJvZHVjdC5Qcm9kdWN0QXR0cmlidXRlLlByb2R1Y3RBdHRyaWJ1dGVJRA0KICAgICAgICB9KQ0KICAgICAgICB2YXIgaW5kZXhJdGVtID0gbWUuaW5kZXhTZWxlY3RlZFByb2R1Y3RzLmluZGV4T2YocHJvZHVjdC5Qcm9kdWN0QXR0cmlidXRlLlByb2R1Y3RBdHRyaWJ1dGVJRCk7DQogICAgICAgIG1lLmluZGV4U2VsZWN0ZWRQcm9kdWN0cy5zcGxpY2UoaW5kZXhJdGVtLDEpDQogICAgfSwNCiAgICBjb21wbGV0ZUZpbGwoKXsNCiAgICAgICAgY29uc3QgbWU9dGhpcw0KICAgICAgICBtZS4kZW1pdCgic2V0U2VsZWN0ZWRQcm9kdWN0cyIsbWUuc2VsZWN0ZWRQcm9kdWN0cykNCiAgICB9LA0KICAgIGNhbmNlbEZpbGwoKXsNCiAgICAgIGNvbnN0IG1lPXRoaXMNCg0KICAgICAgbWUuc2VsZWN0ZWRQcm9kdWN0cz1bXQ0KICAgICAgbWUuaW5kZXhTZWxlY3RlZFByb2R1Y3RzPVtdDQogICAgICBtZS5tb2RlbERpYWxvZz1mYWxzZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["products-select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"products-select.vue","sourceRoot":"src/components/admin/views/receipts/popup","sourcesContent":["<template>\r\n  <el-dialog\r\n  class=\"dialog-container\"\r\n    ref=\"dialog\"\r\n    title=\"Chọn sản phẩm\"\r\n    width=\"600px\"\r\n    :lock-scroll=\"false\"\r\n    :visible.sync=\"modelDialog\"\r\n    @close=\"cancelFill\"\r\n  >\r\n    <template #default>\r\n      <el-form\r\n        :model=\"modelForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-width=\"130px\"\r\n        label-position=\"left\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item\r\n          v-for=\"(product,index) in products\"\r\n:key=\"index\"\r\n        >\r\n          <div class=\"product-item tw-flex tw-justify-between tw-w-full\">\r\n              <div class=\"left tw-flex\">\r\n\r\n                <div class=\"product-image\">\r\n                    <img :src=\"product.Product.Avatar\" width=\"100px\" height=\"100px\"/>\r\n                </div>\r\n                <div class=\"product-name\">{{product.Product.ProductName}}</div>\r\n                \r\n              </div>\r\n              <div class=\"right tw-flex\">\r\n                  <div class=\"product-memory tw-w-28 tw-text-center tw-font-semibold\">{{product.ProductAttribute.Memory+' GB'}}</div>\r\n                <el-button class=\"function tw-h-10\" v-if=\"indexSelectedProducts.includes(product.ProductAttribute.ProductAttributeID)\" @click=\"cancelSelectProduct(product)\">Bỏ chọn</el-button>\r\n                <el-button class=\"function tw-h-10\" v-else @click=\"selectProduct(product)\">Chọn</el-button>\r\n              </div>\r\n          </div>\r\n        </el-form-item>\r\n        \r\n          \r\n      </el-form>\r\n      \r\n    </template>\r\n    <template #footer>\r\n        <div class=\"paging\">\r\n            <el-pagination\r\n          class=\"tw-flex tw-justify-end tw-h-12 tw-items-center\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"pageIndex\"\r\n          :page-size=\"pageSize\"\r\n          :page-sizes=\"pageSizes\"\r\n          layout=\"total,sizes, prev, pager, next\"\r\n          :total=\"productTotal\"\r\n        >\r\n        </el-pagination>\r\n        </div>\r\n      <div class=\"button\">\r\n        <el-button @click=\"completeFill\" class=\"complete-btn\">{{\r\n          $t(\"Button.Complete\")\r\n        }}</el-button>\r\n        <el-button @click=\"cancelFill\" class=\"cancel-btn\">{{\r\n          $t(\"Button.Cancel\")\r\n        }}</el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapActions, mapMutations} from 'vuex'\r\nexport default {\r\ndata() {\r\n    return {\r\n      modelDialog: false,\r\n      modelForm: {},\r\n      preview:null,\r\n      rules: {},\r\n      pageIndex:1,\r\n      pageSize:10,\r\n      pageSizes:[10, 20, 30, 40],\r\n      search:'',\r\n      selectedProducts:[],\r\n      indexSelectedProducts:[],\r\n    };\r\n  },\r\n  computed:{\r\n      ...mapState('product',['products','productTotal','pageTotal'])\r\n  },\r\n  created(){\r\n      const me=this\r\n      \r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n  },\r\n  methods:{\r\n      ...mapActions('product',['getProductAndProductAttribute']),\r\n      setModel(value) {\r\n      const me = this;\r\n      me.modelDialog = value;\r\n    },\r\n    getProducts(pageIndex,pageSize){\r\n      const me=this\r\n      const params={\r\n        pageIndex:pageIndex,\r\n        pageSize:pageSize\r\n      }\r\n      me.getProductAndProductAttribute(params);\r\n    },\r\n    handleSizeChange(val) {\r\n      const me=this\r\n      me.pageSize=val\r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n    },\r\n    handleCurrentChange(val) {\r\n      const me=this\r\n      me.currentPage=val\r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n    },\r\n    selectProduct(product){\r\n        const me=this\r\n        \r\n        me.selectedProducts.push(product)\r\n        me.indexSelectedProducts.push(product.ProductAttribute.ProductAttributeID)\r\n    },\r\n    cancelSelectProduct(product){\r\n        const me=this\r\n        \r\n        me.selectedProducts=me.selectedProducts.filter(item=>{\r\n            return item.ProductAttribute.ProductID!==product.ProductAttribute.ProductID||item.ProductAttribute.ProductAttributeID!==product.ProductAttribute.ProductAttributeID\r\n        })\r\n        var indexItem = me.indexSelectedProducts.indexOf(product.ProductAttribute.ProductAttributeID);\r\n        me.indexSelectedProducts.splice(indexItem,1)\r\n    },\r\n    completeFill(){\r\n        const me=this\r\n        me.$emit(\"setSelectedProducts\",me.selectedProducts)\r\n    },\r\n    cancelFill(){\r\n      const me=this\r\n\r\n      me.selectedProducts=[]\r\n      me.indexSelectedProducts=[]\r\n      me.modelDialog=false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep{\r\n    .el-dialog{\r\n        margin-top:5vh !important;\r\n        &__body{\r\n            height:560px;\r\n            overflow: auto;\r\n        }\r\n    }\r\n    .el-form-item__content{\r\n        margin-left: 0px !important;\r\n    }\r\n}\r\n.dialog-container{\r\n    \r\n}\r\n</style>"]}]}