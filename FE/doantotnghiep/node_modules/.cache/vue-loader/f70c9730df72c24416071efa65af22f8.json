{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\orders\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\orders\\detail.vue","mtime":1652587780441},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLA0KICAgICAgcGFnZVNpemU6IDUsDQogICAgICBwYWdlSW5kZXg6IDEsDQogICAgICBhY3RpdmU6IDEsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSgib3JkZXIiLCBbDQogICAgICAib3JkZXJEZXRhaWxzIiwNCiAgICAgICJvcmRlckRldGFpbFRvdGFsIiwNCiAgICAgICJwYWdlT3JkZXJEZXRhaWxUb3RhbCIsDQogICAgICAib3JkZXJDdXN0b21lciIsDQogICAgXSksDQogICAgZmluaXNoU3RhdHVzKCl7DQogICAgICBjb25zdCBtZT10aGlzDQogICAgICByZXR1cm4gbWUuYWN0aXZlPjQ/ImVycm9yIjoic3VjY2VzcyINCiAgICB9DQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgY29uc3QgbWUgPSB0aGlzOw0KICAgIGRlYnVnZ2VyOw0KICAgIGF3YWl0IG1lLmdldE9yZGVyRGV0YWlsKG1lLnBhZ2VJbmRleCwgbWUucGFnZVNpemUpOw0KICAgIGF3YWl0IG1lLmdldEN1c3RvbWVyT3JkZXIoeyBvcmRlcklEOiBtZS4kcm91dGUucXVlcnkuaWQgfSk7DQogICAgbWUuYWN0aXZlID0gbWUub3JkZXJDdXN0b21lci5PcmRlci5PcmRlclN0YXR1cyArIDE7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCJvcmRlciIsIFsiZGV0YWlsT3JkZXIiLCAiZ2V0Q3VzdG9tZXJPcmRlciIsICJ1cGRhdGVPcmRlciJdKSwNCiAgICBnZXRPcmRlckRldGFpbChwYWdlSW5kZXgsIHBhZ2VTaXplKSB7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIG9yZGVySUQ6IG1lLiRyb3V0ZS5xdWVyeS5pZCwNCiAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsDQogICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSwNCiAgICAgIH07DQogICAgICBtZS5kZXRhaWxPcmRlcihwYXJhbXMpOw0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIG1lLnBhZ2VTaXplID0gdmFsOw0KICAgICAgbWUuZ2V0T3JkZXJEZXRhaWwobWUucGFnZUluZGV4LCBtZS5wYWdlU2l6ZSk7DQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgbWUucGFnZUluZGV4ID0gdmFsOw0KICAgICAgbWUuZ2V0T3JkZXJEZXRhaWwobWUucGFnZUluZGV4LCBtZS5wYWdlU2l6ZSk7DQogICAgfSwNCiAgICBnZXRPcmRlclN0YXR1cyhvcmRlclN0YXR1cykgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgZGVidWdnZXI7DQogICAgICBjb25zdCBlbnVtT3JkZXJTdGF0dXMgPSBtZS4kZW51bWVyYXRpb24uT3JkZXJTdGF0dXM7DQogICAgICBzd2l0Y2ggKG9yZGVyU3RhdHVzKSB7DQogICAgICAgIGNhc2UgZW51bU9yZGVyU3RhdHVzLldhaXRDb25maXJtOg0KICAgICAgICAgIHJldHVybiAiQ2jhu50geMOhYyBuaOG6rW4iOw0KICAgICAgICBjYXNlIGVudW1PcmRlclN0YXR1cy5XYWl0R29vZHM6DQogICAgICAgICAgcmV0dXJuICJDaOG7nSBs4bqleSBow6BuZyI7DQogICAgICAgIGNhc2UgZW51bU9yZGVyU3RhdHVzLkRlbGl2ZXJpbmc6DQogICAgICAgICAgcmV0dXJuICLEkGFuZyBnaWFvIGjDoG5nIjsNCiAgICAgICAgY2FzZSBlbnVtT3JkZXJTdGF0dXMuRGVsaXZlcmVkOg0KICAgICAgICAgIHJldHVybiAixJDDoyBnaWFvIGjDoG5nIjsNCiAgICAgICAgY2FzZSBlbnVtT3JkZXJTdGF0dXMuQ2FuY2VsbGVkOg0KICAgICAgICAgIHJldHVybiAixJDDoyBo4buneSI7DQogICAgICB9DQogICAgfSwNCiAgICBzZXRBY3RpdmUoaW5kZXgpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIG1lLmFjdGl2ZSA9IGluZGV4Ow0KICAgICAgYWxlcnQoaW5kZXgpOw0KICAgIH0sDQogICAgbmV4dFN0ZXAoKSB7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQoNCiAgICAgIG1lLmFjdGl2ZSsrOw0KICAgICAgY29uc3QgbmV3T3JkZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lLm9yZGVyQ3VzdG9tZXIuT3JkZXIpKTsNCiAgICAgIG5ld09yZGVyLk9yZGVyU3RhdHVzID0gbWUuYWN0aXZlOw0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBpZDogbmV3T3JkZXIuT3JkZXJJRCwNCiAgICAgICAgcGFyYW1zOiBuZXdPcmRlciwNCiAgICAgIH07DQogICAgICBjb25zdCBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsNCiAgICAgIG1lLnVwZGF0ZU9yZGVyKHBhcmFtcykNCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMpIHsNCiAgICAgICAgICAgIG1lLiRub3RpZnkoew0KICAgICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5TdWNjZXNzIiksDQogICAgICAgICAgICAgIG1lc3NhZ2U6IGgoDQogICAgICAgICAgICAgICAgImkiLA0KICAgICAgICAgICAgICAgIHsgc3R5bGU6ICJjb2xvcjogdGVhbCIgfSwNCiAgICAgICAgICAgICAgICBtZS4kdCgiTm90aWZ5LlVwZGF0ZVN1Y2Nlc3MiLCB7IG9iamVjdDogIsSRxqFuIGjDoG5nIiB9KQ0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGF3YWl0IG1lLmdldE9yZGVyRGV0YWlsKG1lLnBhZ2VJbmRleCwgbWUucGFnZVNpemUpOw0KICAgICAgICAgICAgYXdhaXQgbWUuZ2V0Q3VzdG9tZXJPcmRlcih7IG9yZGVySUQ6IG1lLiRyb3V0ZS5xdWVyeS5pZCB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbWUuJG5vdGlmeSh7DQogICAgICAgICAgICAgIHRpdGxlOiBtZS4kdCgiTm90aWZ5LkVycm9yIiksDQogICAgICAgICAgICAgIG1lc3NhZ2U6IGgoDQogICAgICAgICAgICAgICAgImkiLA0KICAgICAgICAgICAgICAgIHsgc3R5bGU6ICJjb2xvcjogdGVhbCIgfSwNCiAgICAgICAgICAgICAgICBtZS4kdCgiTm90aWZ5Lkhhc0Vycm9yIikNCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgbWUuJG5vdGlmeSh7DQogICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5FcnJvciIpLA0KICAgICAgICAgICAgbWVzc2FnZTogaCgiaSIsIHsgc3R5bGU6ICJjb2xvcjogdGVhbCIgfSwgbWUuJHQoIk5vdGlmeS5IYXNFcnJvciIpKSwNCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgY2FuY2VsT3JkZXIoKSB7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQoNCiAgICAgIG1lLmFjdGl2ZT0wOw0KICAgICAgY29uc3QgbmV3T3JkZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lLm9yZGVyQ3VzdG9tZXIuT3JkZXIpKTsNCiAgICAgIG5ld09yZGVyLk9yZGVyU3RhdHVzID0gbWUuJGVudW1lcmF0aW9uLk9yZGVyU3RhdHVzLkNhbmNlbGxlZDsNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgaWQ6IG5ld09yZGVyLk9yZGVySUQsDQogICAgICAgIHBhcmFtczogbmV3T3JkZXIsDQogICAgICB9Ow0KICAgICAgY29uc3QgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7DQogICAgICBtZS51cGRhdGVPcmRlcihwYXJhbXMpDQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgICBtZS4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuU3VjY2VzcyIpLA0KICAgICAgICAgICAgICBtZXNzYWdlOiBoKA0KICAgICAgICAgICAgICAgICJpIiwNCiAgICAgICAgICAgICAgICB7IHN0eWxlOiAiY29sb3I6IHRlYWwiIH0sDQogICAgICAgICAgICAgICAgbWUuJHQoIk5vdGlmeS5VcGRhdGVTdWNjZXNzIiwgeyBvYmplY3Q6ICLEkcahbiBow6BuZyIgfSkNCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBhd2FpdCBtZS5nZXRPcmRlckRldGFpbChtZS5wYWdlSW5kZXgsIG1lLnBhZ2VTaXplKTsNCiAgICAgICAgICAgIGF3YWl0IG1lLmdldEN1c3RvbWVyT3JkZXIoeyBvcmRlcklEOiBtZS4kcm91dGUucXVlcnkuaWQgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIG1lLiRub3RpZnkoew0KICAgICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5FcnJvciIpLA0KICAgICAgICAgICAgICBtZXNzYWdlOiBoKA0KICAgICAgICAgICAgICAgICJpIiwNCiAgICAgICAgICAgICAgICB7IHN0eWxlOiAiY29sb3I6IHRlYWwiIH0sDQogICAgICAgICAgICAgICAgbWUuJHQoIk5vdGlmeS5IYXNFcnJvciIpDQogICAgICAgICAgICAgICksDQogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgIG1lLiRub3RpZnkoew0KICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwNCiAgICAgICAgICAgIG1lc3NhZ2U6IGgoImkiLCB7IHN0eWxlOiAiY29sb3I6IHRlYWwiIH0sIG1lLiR0KCJOb3RpZnkuSGFzRXJyb3IiKSksDQogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/components/admin/views/orders","sourcesContent":["<template>\r\n  <div class=\"order-detail-container tw-relative\" v-if=\"orderCustomer\">\r\n    <div class=\"order-info tw-grid tw-grid-cols-3 tw-grid-rows-1 tw-p-6\">\r\n      <div class=\"order-content\">\r\n        <div class=\"order\"></div>\r\n        <div class=\"order-code\">\r\n          <span class=\"label\">Mã đơn hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Order.OrderID }}</span>\r\n        </div>\r\n        <div class=\"product-quantity\">\r\n          <span class=\"label\">Số lượng mặt hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Quantity }}</span>\r\n        </div>\r\n        <div class=\"price-total\">\r\n          <span class=\"label\">Tổng giá</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Order.TotalPrice }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"customer-content\">\r\n        <div class=\"customer-name\">\r\n          <span class=\"label\">Tên khách hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Customer.CustomerName }}</span>\r\n        </div>\r\n        <div class=\"phone-number\">\r\n          <span class=\"label\">SĐT khách hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Customer.PhoneNumber }}</span>\r\n        </div>\r\n        <div class=\"email\">\r\n          <span class=\"label\">Email</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Customer.Email }}</span>\r\n        </div>\r\n        <div class=\"address\">\r\n          <span class=\"label\">Địa chỉ nhận hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Order.DeliveryAddress }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"status\">\r\n        <div class=\"payment-status\">\r\n          <span class=\"label\">Trạng thái thanh toán</span>\r\n          <span class=\"tw-ml-6\">{{\r\n            orderCustomer.Order.PaymentStatus\r\n              ? \"Đã thanh toán\"\r\n              : \"Chưa thanh toán\"\r\n          }}</span>\r\n        </div>\r\n        <div class=\"order-date\">\r\n          <span class=\"label\">Ngày đặt hàng</span>\r\n          <span class=\"tw-ml-6\">{{ orderCustomer.Order.CreatedDate }}</span>\r\n        </div>\r\n        <div class=\"order-status\">\r\n          <span class=\"label\">Trạng thái đơn hàng</span>\r\n          <span class=\"tw-ml-6\">{{\r\n            getOrderStatus(orderCustomer.Order.OrderStatus)\r\n          }}</span>\r\n          <div class=\"order-status-action tw-flex tw-mt-4 tw-w-full\">\r\n            <span class=\"tw-relative tw--left-28\">\r\n              <el-steps\r\n                :active=\"active\"\r\n                process-status=\"finish\"\r\n                :finish-status=\"finishStatus\"\r\n                align-center\r\n              >\r\n                <el-step\r\n                  v-for=\"index in 4\"\r\n                  :key=\"index\"\r\n                  @click=\"setActive(index - 1)\"\r\n                  :title=\"getOrderStatus(index - 1)\"\r\n                ></el-step>\r\n              </el-steps>\r\n            </span>\r\n            <el-button style=\"margin-top: 12px\" @click=\"nextStep\"\r\n            v-if=\"orderCustomer.Order.OrderStatus!==$enumeration.OrderStatus.Cancelled\"\r\n              >Next step</el-button\r\n            >\r\n            <el-button style=\"margin-top: 12px\" @click=\"cancelOrder\"\r\n            v-if=\"orderCustomer.Order.OrderStatus!==$enumeration.OrderStatus.Cancelled\"\r\n              >Hủy đơn</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"order-detail-list tw-absolute tw-bottom-0 tw-w-full tw-p-6\"\r\n      style=\"height: calc(100% - 115px - 49px - 17px)\"\r\n    >\r\n      <el-table\r\n        class=\"table\"\r\n        border\r\n        :data=\"orderDetails\"\r\n        height=\"calc(100% - 49px - 16px)\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" label=\"STT\"> </el-table-column>\r\n        <el-table-column\r\n          prop=\"OrderDetail.OrderDetailID\"\r\n          label=\"Mã mặt hàng\"\r\n          width=\"150\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"Product.ProductName\"\r\n          label=\"Tên mặt hàng\"\r\n          min-width=\"200\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column prop=\"Product.Image\" label=\"Ảnh\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"image tw-w-20 tw-h-20\">\r\n              <el-image :src=\"scope.row.Product.Image\" fit=\"contain\">\r\n                <div slot=\"placeholder\" class=\"image-slot\">\r\n                  {{ $t(\"Common.Loading\") }}<span class=\"dot\">...</span>\r\n                </div>\r\n              </el-image>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"OrderDetail.Quantity\"\r\n          label=\"Số lượng\"\r\n          width=\"150\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"OrderDetail.UnitPrice\"\r\n          label=\"Đơn giá\"\r\n          width=\"200\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ProductAttribute.Memory\"\r\n          label=\"Dung lượng\"\r\n          width=\"150\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column label=\"Thành tiên\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{\r\n              scope.row.OrderDetail.Quantity * scope.row.OrderDetail.UnitPrice\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"tw-flex tw-justify-end tw-h-12 tw-items-center\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"pageIndex\"\r\n        :page-size=\"pageSize\"\r\n        :page-sizes=\"pageSizes\"\r\n        layout=\"total,sizes, prev, pager, next\"\r\n        :total=\"orderDetailTotal\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageSizes: [5, 10, 15],\r\n      pageSize: 5,\r\n      pageIndex: 1,\r\n      active: 1,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"order\", [\r\n      \"orderDetails\",\r\n      \"orderDetailTotal\",\r\n      \"pageOrderDetailTotal\",\r\n      \"orderCustomer\",\r\n    ]),\r\n    finishStatus(){\r\n      const me=this\r\n      return me.active>4?\"error\":\"success\"\r\n    }\r\n  },\r\n  async created() {\r\n    const me = this;\r\n    debugger;\r\n    await me.getOrderDetail(me.pageIndex, me.pageSize);\r\n    await me.getCustomerOrder({ orderID: me.$route.query.id });\r\n    me.active = me.orderCustomer.Order.OrderStatus + 1;\r\n  },\r\n  methods: {\r\n    ...mapActions(\"order\", [\"detailOrder\", \"getCustomerOrder\", \"updateOrder\"]),\r\n    getOrderDetail(pageIndex, pageSize) {\r\n      const me = this;\r\n      const params = {\r\n        orderID: me.$route.query.id,\r\n        pageIndex: pageIndex,\r\n        pageSize: pageSize,\r\n      };\r\n      me.detailOrder(params);\r\n    },\r\n    handleSizeChange(val) {\r\n      const me = this;\r\n      me.pageSize = val;\r\n      me.getOrderDetail(me.pageIndex, me.pageSize);\r\n    },\r\n    handleCurrentChange(val) {\r\n      const me = this;\r\n      me.pageIndex = val;\r\n      me.getOrderDetail(me.pageIndex, me.pageSize);\r\n    },\r\n    getOrderStatus(orderStatus) {\r\n      const me = this;\r\n      debugger;\r\n      const enumOrderStatus = me.$enumeration.OrderStatus;\r\n      switch (orderStatus) {\r\n        case enumOrderStatus.WaitConfirm:\r\n          return \"Chờ xác nhận\";\r\n        case enumOrderStatus.WaitGoods:\r\n          return \"Chờ lấy hàng\";\r\n        case enumOrderStatus.Delivering:\r\n          return \"Đang giao hàng\";\r\n        case enumOrderStatus.Delivered:\r\n          return \"Đã giao hàng\";\r\n        case enumOrderStatus.Cancelled:\r\n          return \"Đã hủy\";\r\n      }\r\n    },\r\n    setActive(index) {\r\n      const me = this;\r\n      me.active = index;\r\n      alert(index);\r\n    },\r\n    nextStep() {\r\n      const me = this;\r\n\r\n      me.active++;\r\n      const newOrder = JSON.parse(JSON.stringify(me.orderCustomer.Order));\r\n      newOrder.OrderStatus = me.active;\r\n      const params = {\r\n        id: newOrder.OrderID,\r\n        params: newOrder,\r\n      };\r\n      const h = this.$createElement;\r\n      me.updateOrder(params)\r\n        .then(async (res) => {\r\n          if (res) {\r\n            me.$notify({\r\n              title: me.$t(\"Notify.Success\"),\r\n              message: h(\r\n                \"i\",\r\n                { style: \"color: teal\" },\r\n                me.$t(\"Notify.UpdateSuccess\", { object: \"đơn hàng\" })\r\n              ),\r\n              type: \"success\",\r\n            });\r\n            await me.getOrderDetail(me.pageIndex, me.pageSize);\r\n            await me.getCustomerOrder({ orderID: me.$route.query.id });\r\n          } else {\r\n            me.$notify({\r\n              title: me.$t(\"Notify.Error\"),\r\n              message: h(\r\n                \"i\",\r\n                { style: \"color: teal\" },\r\n                me.$t(\"Notify.HasError\")\r\n              ),\r\n              type: \"error\",\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          me.$notify({\r\n            title: me.$t(\"Notify.Error\"),\r\n            message: h(\"i\", { style: \"color: teal\" }, me.$t(\"Notify.HasError\")),\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n    cancelOrder() {\r\n      const me = this;\r\n\r\n      me.active=0;\r\n      const newOrder = JSON.parse(JSON.stringify(me.orderCustomer.Order));\r\n      newOrder.OrderStatus = me.$enumeration.OrderStatus.Cancelled;\r\n      const params = {\r\n        id: newOrder.OrderID,\r\n        params: newOrder,\r\n      };\r\n      const h = this.$createElement;\r\n      me.updateOrder(params)\r\n        .then(async (res) => {\r\n          if (res) {\r\n            me.$notify({\r\n              title: me.$t(\"Notify.Success\"),\r\n              message: h(\r\n                \"i\",\r\n                { style: \"color: teal\" },\r\n                me.$t(\"Notify.UpdateSuccess\", { object: \"đơn hàng\" })\r\n              ),\r\n              type: \"success\",\r\n            });\r\n            await me.getOrderDetail(me.pageIndex, me.pageSize);\r\n            await me.getCustomerOrder({ orderID: me.$route.query.id });\r\n          } else {\r\n            me.$notify({\r\n              title: me.$t(\"Notify.Error\"),\r\n              message: h(\r\n                \"i\",\r\n                { style: \"color: teal\" },\r\n                me.$t(\"Notify.HasError\")\r\n              ),\r\n              type: \"error\",\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          me.$notify({\r\n            title: me.$t(\"Notify.Error\"),\r\n            message: h(\"i\", { style: \"color: teal\" }, me.$t(\"Notify.HasError\")),\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.label {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n.order-info {\r\n  line-height: 30px;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n::v-deep {\r\n  .el-steps {\r\n  }\r\n  .el-button {\r\n    display: flex;\r\n    margin-top: 12px;\r\n    width: 80px;\r\n    height: 40px;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>"]}]}