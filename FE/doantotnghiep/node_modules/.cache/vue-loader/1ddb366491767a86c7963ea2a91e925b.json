{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\products\\popup\\description-product-popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\products\\popup\\description-product-popup.vue","mtime":1656007255429},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBWdWVFZGl0b3IgfSBmcm9tICJ2dWUyLWVkaXRvciI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6ew0KICAgICAgICBwcm9kdWN0QXR0cmlidXRlczp7DQogICAgICB0eXBlOkFycmF5LA0KICAgICAgZGVmYXVsdDooKT0+e30NCiAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOnsNCiAgICBWdWVFZGl0b3INCiAgfSwNCiAgICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtb2RlbERpYWxvZzogZmFsc2UsDQogICAgICBtb2RlbEZvcm06IHsNCiAgICAgICAgUHJpY2U6bnVsbCwNCiAgICAgICAgUHJvbW90aW9uUHJpY2U6bnVsbCwNCiAgICAgICAgRGVzY3JpcHRpb246JycsDQogICAgICAgIFN0YXJ0VGltZURhdGU6bnVsbCwNCiAgICAgICAgRW5kVGltZURhdGU6bnVsbA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOnsNCiAgICAgICAgUHJvZHVjdE5hbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAiSMOjeSBuaOG6rXAgdGjDtG5nIHRpbiEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgTWFudWZhY3R1cmVySUQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAiSMOjeSBuaOG6rXAgdGjDtG5nIHRpbiEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgQ2F0ZWdvcnlJRDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICJIw6N5IG5o4bqtcCB0aMO0bmcgdGluISIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBPcmlnaW46IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAiSMOjeSBuaOG6rXAgdGjDtG5nIHRpbiEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgUmVsZWFzZVRpbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAiSMOjeSBuaOG6rXAgdGjDtG5nIHRpbiEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICBkZXNjcmlwdGlvbjonJywNCiAgICAgIHByaWNlOm51bGwsDQogICAgICBwcmljZVByb21vdGlvbjpudWxsLA0KICAgICAgc3RhcnREYXRlOm51bGwsDQogICAgICBlbmREYXRlOm51bGwsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpew0KICAgIGNvbnN0IG1lPXRoaXMNCiAgICBtZS5pbml0RGF0YVZhbHVlKCkNCiAgfSwNCiAgbWV0aG9kczp7DQogICAgc2V0TW9kZWwodmFsdWUpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIG1lLm1vZGVsRGlhbG9nID0gdmFsdWU7DQogICAgfSwNCiAgICAgIC8qKg0KICAgICAqIEhvw6BuIHRow6BuaCB0aMOqbSB0aMO0bmcgdGluIGNoaSB0aeG6v3Qgc+G6o24gcGjhuqltDQogICAgICovDQogICAgY29tcGxldGVGaWxsKCl7DQogICAgICAgIGNvbnN0IG1lPXRoaXMNCiAgICAgICAgbWUubW9kZWxEaWFsb2cgPSBmYWxzZTsNCiAgICAgICAgY29uc3QgbW9kZWw9W10NCiAgICAgICAgbW9kZWwucHVzaChtZS5tb2RlbEZvcm0pDQogICAgICAgIGZvcihsZXQgaT0wO2k8bW9kZWwubGVuZ3RoO2krKyl7DQogICAgICAgICAgLy8gbW9kZWxbaV0uU3RhcnRUaW1lRGF0ZT1uZXcgRGF0ZShtb2RlbFtpXS5TdGFydFRpbWVEYXRlKQ0KICAgICAgICAgIC8vIG1vZGVsW2ldLkVuZFRpbWVEYXRlPW5ldyBEYXRlKG1vZGVsW2ldLkVuZFRpbWVEYXRlKQ0KICAgICAgICAgIGlmKG1vZGVsW2ldLlByb21vdGlvblByaWNlKXsNCiAgICAgICAgICAgIGNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50Ow0KICAgICAgICAgICAgZGVidWdnZXINCiAgICAgICAgICAgIGlmKCFtb2RlbFtpXS5TdGFydFRpbWVEYXRlfHwhbW9kZWxbaV0uRW5kVGltZURhdGUpew0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgbWUuJG5vdGlmeS53YXJuaW5nKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5XYXJuaW5nIiksDQogICAgICAgICAgICAgICAgbWVzc2FnZTogaCgNCiAgICAgICAgICAgICAgICAgICJpIiwNCiAgICAgICAgICAgICAgICAgIHsgc3R5bGU6ICJjb2xvcjogdGVhbCIgfSwNCiAgICAgICAgICAgICAgICAgICJIw6N5IG5o4bqtcCB0aOG7nWkgZ2lhbiBraHV54bq/biBt4bqhaSINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgbWUuJGVtaXQoJ3VwZGF0ZUVycm9yJyx0cnVlKQ0KICAgICAgICAgICAgfWVsc2UgaWYobmV3IERhdGUobW9kZWxbaV0uU3RhcnRUaW1lRGF0ZSk+bmV3IERhdGUobW9kZWxbaV0uRW5kVGltZURhdGUpKXsNCiAgICAgICAgICAgICAgbWUuJG5vdGlmeS53YXJuaW5nKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5XYXJuaW5nIiksDQogICAgICAgICAgICAgICAgbWVzc2FnZTogaCgNCiAgICAgICAgICAgICAgICAgICJpIiwNCiAgICAgICAgICAgICAgICAgIHsgc3R5bGU6ICJjb2xvcjogdGVhbCIgfSwNCiAgICAgICAgICAgICAgICAgICJOZ8OgeSBr4bq/dCB0aMO6YyBraHV54bq/biBt4bqhaSBwaOG6o2kgbOG7m24gaMahbiBuZ8OgeSBi4bqvdCDEkeG6p3Uga2h1eeG6v24gbeG6oWkiDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIG1lLiRlbWl0KCd1cGRhdGVFcnJvcicsdHJ1ZSkNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBtZS4kZW1pdCgndXBkYXRlRXJyb3InLGZhbHNlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBtZS4kZW1pdCgnY2xvc2VQb3B1cCcpDQogICAgICAgIG1lLiRlbWl0KCd1cGRhdGVQcm9kdWN0QXR0cmlidXRlcycsbW9kZWwpDQogICAgfSwNCiAgICAvKioNCiAgICAgKiBI4buneSB0aMOqbSB0aMO0biBndGluIGNoaSB0aeG6v3Qgc+G6o24gcGjhuqltDQogICAgICovDQogICAgY2FuY2VsRmlsbCgpew0KICAgICAgICBjb25zdCBtZT10aGlzDQogICAgICAgIG1lLm1vZGVsRGlhbG9nID0gZmFsc2U7DQogICAgICAgIG1lLiRlbWl0KCdjbG9zZVBvcHVwJykNCiAgICB9LA0KICAgIGNoYW5nZURhdGEoKXsNCiAgICAgIA0KICAgICAgDQogICAgfSwNCiAgICBpbml0RGF0YVZhbHVlKCl7DQogICAgICBjb25zdCBtZT10aGlzDQogICAgICBjb25zdCBwcm9kdWN0QXR0cmlidXRlPSBtZS5wcm9kdWN0QXR0cmlidXRlcz9tZS5wcm9kdWN0QXR0cmlidXRlc1swXTp7fQ0KICAgICAgaWYocHJvZHVjdEF0dHJpYnV0ZSYmcHJvZHVjdEF0dHJpYnV0ZS5QcmljZSl7DQogICAgICAgIG1lLm1vZGVsRm9ybS5QcmljZT1wcm9kdWN0QXR0cmlidXRlLlByaWNlDQogICAgICB9ZWxzZXsNCiAgICAgICAgbWUubW9kZWxGb3JtLlByaWNlPSBudWxsDQogICAgICB9DQogICAgICBpZihwcm9kdWN0QXR0cmlidXRlJiZwcm9kdWN0QXR0cmlidXRlLlByb21vdGlvblByaWNlKXsNCiAgICAgICAgbWUubW9kZWxGb3JtLlByb21vdGlvblByaWNlPXByb2R1Y3RBdHRyaWJ1dGUuUHJvbW90aW9uUHJpY2UNCiAgICAgIH1lbHNlew0KICAgICAgICBtZS5tb2RlbEZvcm0uUHJvbW90aW9uUHJpY2U9IG51bGwNCiAgICAgIH0NCiAgICAgIGlmKHByb2R1Y3RBdHRyaWJ1dGUmJnByb2R1Y3RBdHRyaWJ1dGUuU3RhcnRUaW1lRGF0ZSl7DQogICAgICAgIG1lLm1vZGVsRm9ybS5TdGFydFRpbWVEYXRlPXByb2R1Y3RBdHRyaWJ1dGUuU3RhcnRUaW1lRGF0ZQ0KICAgICAgfWVsc2V7DQogICAgICAgIG1lLm1vZGVsRm9ybS5TdGFydFRpbWVEYXRlPSBudWxsDQogICAgICB9DQogICAgICBpZihwcm9kdWN0QXR0cmlidXRlJiZwcm9kdWN0QXR0cmlidXRlLkVuZFRpbWVEYXRlKXsNCiAgICAgICAgbWUubW9kZWxGb3JtLkVuZFRpbWVEYXRlPXByb2R1Y3RBdHRyaWJ1dGUuRW5kVGltZURhdGUNCiAgICAgIH1lbHNlew0KICAgICAgICBtZS5tb2RlbEZvcm0uRW5kVGltZURhdGU9IG51bGwNCiAgICAgIH0NCiAgICAgIGlmKHByb2R1Y3RBdHRyaWJ1dGUmJnByb2R1Y3RBdHRyaWJ1dGUuRGVzY3JpcHRpb24pew0KICAgICAgICBtZS5tb2RlbEZvcm0uRGVzY3JpcHRpb249cHJvZHVjdEF0dHJpYnV0ZS5EZXNjcmlwdGlvbg0KICAgICAgfWVsc2V7DQogICAgICAgIG1lLm1vZGVsRm9ybS5EZXNjcmlwdGlvbj0gbnVsbA0KICAgICAgfQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["description-product-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"description-product-popup.vue","sourceRoot":"src/components/admin/views/products/popup","sourcesContent":["<template>\r\n  <el-dialog\r\n    ref=\"dialog\"\r\n    title=\"Thêm mô tả sản phẩm\"\r\n    :visible.sync=\"modelDialog\"\r\n  >\r\n    <template #default>\r\n      <el-form v-model=\"modelForm\">\r\n        <el-form-item\r\n            class=\"tw-flex-1 tw-mr-4\"\r\n            :label=\"$t('Product.Price')\"\r\n            prop=\"Price\"\r\n          >\r\n            <el-input\r\n              v-model=\"modelForm.Price\"\r\n              :placeholder=\"$t('Product.PriceInput')\"\r\n              @change=\"changeData\"\r\n            />\r\n          </el-form-item>\r\n      <el-form-item\r\n            class=\"tw-flex-1 tw-mr-4\"\r\n            :label=\"$t('Product.PromotionPrice')\"\r\n            prop=\"PromotionPrice\"\r\n          >\r\n            <el-input\r\n              v-model=\"modelForm.PromotionPrice\"\r\n              :placeholder=\"$t('Product.PromotionPriceInput')\"\r\n              @change=\"changeData\"\r\n            />\r\n          </el-form-item>\r\n      <el-form-item\r\n            class=\"tw-flex-1 tw-mr-4\"\r\n            :label=\"$t('Product.StartTimeDate')\"\r\n            prop=\"StartTimeDate\"\r\n          >\r\n            <el-date-picker\r\n      v-model=\"modelForm.StartTimeDate\"\r\n      type=\"date\"\r\n      :placeholder=\"$t('SelectDate')\"\r\n      @change=\"changeData\"\r\n      >\r\n    </el-date-picker>\r\n          </el-form-item>\r\n      <el-form-item\r\n            class=\"tw-flex-1 tw-mr-4\"\r\n            :label=\"$t('Product.EndTimeDate')\"\r\n            prop=\"EndTimeDate\"\r\n          >\r\n            <el-date-picker\r\n      v-model=\"modelForm.EndTimeDate\"\r\n      type=\"date\"\r\n      :placeholder=\"$t('SelectDate')\"\r\n      @change=\"changeData\"\r\n      >\r\n    </el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n              \r\n              <VueEditor v-model=\"modelForm.Description\"/>\r\n          </el-form-item>\r\n      </el-form>\r\n      \r\n    </template>\r\n    <template #footer>\r\n      <div class=\"button\">\r\n          <el-button @click=\"completeFill\" class=\"complete-btn\">{{\r\n        $t(\"Button.Complete\")\r\n      }}</el-button>\r\n          <el-button @click=\"cancelFill\" class=\"cancel-btn\">{{\r\n        $t(\"Button.Cancel\")\r\n      }}</el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { VueEditor } from \"vue2-editor\";\r\nexport default {\r\n    props:{\r\n        productAttributes:{\r\n      type:Array,\r\n      default:()=>{}\r\n    }\r\n    },\r\n    components:{\r\n    VueEditor\r\n  },\r\n    data() {\r\n    return {\r\n      modelDialog: false,\r\n      modelForm: {\r\n        Price:null,\r\n        PromotionPrice:null,\r\n        Description:'',\r\n        StartTimeDate:null,\r\n        EndTimeDate:null\r\n      },\r\n      rules:{\r\n        ProductName: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        ManufacturerID: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        CategoryID: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        Origin: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        ReleaseTime: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      description:'',\r\n      price:null,\r\n      pricePromotion:null,\r\n      startDate:null,\r\n      endDate:null,\r\n    };\r\n  },\r\n  created(){\r\n    const me=this\r\n    me.initDataValue()\r\n  },\r\n  methods:{\r\n    setModel(value) {\r\n      const me = this;\r\n      me.modelDialog = value;\r\n    },\r\n      /**\r\n     * Hoàn thành thêm thông tin chi tiết sản phẩm\r\n     */\r\n    completeFill(){\r\n        const me=this\r\n        me.modelDialog = false;\r\n        const model=[]\r\n        model.push(me.modelForm)\r\n        for(let i=0;i<model.length;i++){\r\n          // model[i].StartTimeDate=new Date(model[i].StartTimeDate)\r\n          // model[i].EndTimeDate=new Date(model[i].EndTimeDate)\r\n          if(model[i].PromotionPrice){\r\n            const h = this.$createElement;\r\n            debugger\r\n            if(!model[i].StartTimeDate||!model[i].EndTimeDate){\r\n              \r\n              me.$notify.warning({\r\n                title: me.$t(\"Notify.Warning\"),\r\n                message: h(\r\n                  \"i\",\r\n                  { style: \"color: teal\" },\r\n                  \"Hãy nhập thời gian khuyến mại\"\r\n                ),\r\n              });\r\n              me.$emit('updateError',true)\r\n            }else if(new Date(model[i].StartTimeDate)>new Date(model[i].EndTimeDate)){\r\n              me.$notify.warning({\r\n                title: me.$t(\"Notify.Warning\"),\r\n                message: h(\r\n                  \"i\",\r\n                  { style: \"color: teal\" },\r\n                  \"Ngày kết thúc khuyến mại phải lớn hơn ngày bắt đầu khuyến mại\"\r\n                ),\r\n              });\r\n              me.$emit('updateError',true)\r\n            }else{\r\n              me.$emit('updateError',false)\r\n            }\r\n          }\r\n        }\r\n        me.$emit('closePopup')\r\n        me.$emit('updateProductAttributes',model)\r\n    },\r\n    /**\r\n     * Hủy thêm thôn gtin chi tiết sản phẩm\r\n     */\r\n    cancelFill(){\r\n        const me=this\r\n        me.modelDialog = false;\r\n        me.$emit('closePopup')\r\n    },\r\n    changeData(){\r\n      \r\n      \r\n    },\r\n    initDataValue(){\r\n      const me=this\r\n      const productAttribute= me.productAttributes?me.productAttributes[0]:{}\r\n      if(productAttribute&&productAttribute.Price){\r\n        me.modelForm.Price=productAttribute.Price\r\n      }else{\r\n        me.modelForm.Price= null\r\n      }\r\n      if(productAttribute&&productAttribute.PromotionPrice){\r\n        me.modelForm.PromotionPrice=productAttribute.PromotionPrice\r\n      }else{\r\n        me.modelForm.PromotionPrice= null\r\n      }\r\n      if(productAttribute&&productAttribute.StartTimeDate){\r\n        me.modelForm.StartTimeDate=productAttribute.StartTimeDate\r\n      }else{\r\n        me.modelForm.StartTimeDate= null\r\n      }\r\n      if(productAttribute&&productAttribute.EndTimeDate){\r\n        me.modelForm.EndTimeDate=productAttribute.EndTimeDate\r\n      }else{\r\n        me.modelForm.EndTimeDate= null\r\n      }\r\n      if(productAttribute&&productAttribute.Description){\r\n        me.modelForm.Description=productAttribute.Description\r\n      }else{\r\n        me.modelForm.Description= null\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep{\r\n  .ql-container{\r\n    height:auto !important;\r\n  }\r\n}\r\n</style>"]}]}