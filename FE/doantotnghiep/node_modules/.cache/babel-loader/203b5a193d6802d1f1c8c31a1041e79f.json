{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\post\\post-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\post\\post-list.vue","mtime":1655783619687},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\babel.config.js","mtime":1641193952525},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTpcXE5hbTRcXEtpMlxcRG9BblRvdE5naGllcFxcRkVcXGRvYW50b3RuZ2hpZXBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZUluZGV4OiAxLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgcGFnZUluZGV4UHJvZHVjdDogMSwKICAgICAgcGFnZVNpemVQcm9kdWN0OiA1CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgcGFyYW1zID0gewogICAgICBwcm9kdWN0SUQ6IG1lLiRyb3V0ZS5xdWVyeS5wcm9kdWN0LAogICAgICBwYWdlSW5kZXg6IG1lLnBhZ2VJbmRleCwKICAgICAgcGFnZVNpemU6IG1lLnBhZ2VTaXplCiAgICB9OwogICAgbWUuZ2V0UG9zdEJ5UHJvZHVjdElEKHBhcmFtcyk7CiAgICBtZS5nZXRQcm9kdWN0QnlJRChtZS4kcm91dGUucXVlcnkucHJvZHVjdCk7CiAgICB2YXIgcGFyYW1OZXdQcm9kdWN0UG9zdCA9IHsKICAgICAgcHJvZHVjdElEOiBtZS4kcm91dGUucXVlcnkucHJvZHVjdCwKICAgICAgcGFnZUluZGV4OiBtZS5wYWdlSW5kZXhQcm9kdWN0LAogICAgICBwYWdlU2l6ZTogbWUucGFnZVNpemVQcm9kdWN0CiAgICB9OwogICAgbWUuZ2V0TmV3UHJvZHVjdFBvc3RzKHBhcmFtTmV3UHJvZHVjdFBvc3QpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoInBvc3QiLCBbInBvc3RzIiwgInBvc3RUb3RhbCJdKSksIG1hcFN0YXRlKCJwcm9kdWN0IiwgWyJwcm9kdWN0IiwgIm5ld1Byb2R1Y3RQb3N0cyIsICJuZXdQcm9kdWN0VG90YWwiLCAibmV3UGFnZVRvdGFsIl0pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCJwb3N0IiwgWyJnZXRQb3N0QnlQcm9kdWN0SUQiXSkpLCBtYXBBY3Rpb25zKCJwcm9kdWN0IiwgWyJnZXRQcm9kdWN0QnlJRCIsICJnZXROZXdQcm9kdWN0UG9zdHMiXSkpLCBtYXBNdXRhdGlvbnMoInByb2R1Y3QiLCBbInNldE5ld1Byb2R1Y3RQb3N0cyJdKSksIHt9LCB7CiAgICB2aWV3RGV0YWlsUHJvZHVjdDogZnVuY3Rpb24gdmlld0RldGFpbFByb2R1Y3QoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJJZF9Qcm9kdWN0IiwgbWUucHJvZHVjdC5Qcm9kdWN0SUQpOwogICAgICBtZS4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJQcm9kdWN0RGV0YWlsIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2R1Y3RNZXRhOiBtZS5wcm9kdWN0Lk1ldGEKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZpZXdEZXRhaWxQb3N0OiBmdW5jdGlvbiB2aWV3RGV0YWlsUG9zdChwb3N0SUQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgZGVidWdnZXI7CiAgICAgIG1lLiRyb3V0ZXIucHVzaCgiL3Bvc3QvIi5jb25jYXQobWUucHJvZHVjdC5NZXRhLCAiLyIpLmNvbmNhdChwb3N0SUQpKTsKICAgIH0sCiAgICB2aWV3TW9yZVByb2R1Y3Q6IGZ1bmN0aW9uIHZpZXdNb3JlUHJvZHVjdCgpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUucGFnZUluZGV4UHJvZHVjdCsrOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHByb2R1Y3RJRDogbWUuJHJvdXRlLnF1ZXJ5LnByb2R1Y3QsCiAgICAgICAgcGFnZUluZGV4OiBtZS5wYWdlSW5kZXhQcm9kdWN0LAogICAgICAgIHBhZ2VTaXplOiBtZS5wYWdlU2l6ZVByb2R1Y3QKICAgICAgfTsKICAgICAgbWUuZ2V0TmV3UHJvZHVjdFBvc3RzKHBhcmFtcyk7CiAgICB9LAogICAgdmlld1Byb2R1Y3RQb3N0OiBmdW5jdGlvbiB2aWV3UHJvZHVjdFBvc3QocHJvZHVjdCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBtZS5zZXROZXdQcm9kdWN0UG9zdHMoW10pOwogICAgICBtZS4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvcG9zdHMiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LlByb2R1Y3QuUHJvZHVjdElECiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["post-list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"post-list-container tw-flex\" v-if=\"product\">\r\n    <div class=\"post-list-area tw-bg-white tw-p-5 tw-w-9/12\">\r\n      <div class=\"title-list\">\r\n        {{postTotal}} bài viết về \"<span class=\"tw-text-gray-800 tw-font-bold\"\r\n          >{{product.ProductName}}</span\r\n        >\"\r\n      </div>\r\n      <div class=\"post-list\">\r\n        <div\r\n          class=\"post tw-flex tw-mt-4\"\r\n          v-for=\"(item, index) in posts\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"avatar-post tw-mr-6 tw-w-56 tw-h-32 tw-cursor-pointer\" @click=\"viewDetailPost(item.Post.PostID)\">\r\n            <img class=\"tw-w-full tw-h-full\" :src=\"item.Post.Avatar\"/>\r\n          </div>\r\n          <div class=\"content-post\">\r\n            <div class=\"post-title tw-text-gray-800 tw-font-bold tw-text-lg tw-cursor-pointer\" @click=\"viewDetailPost(item.Post.PostID)\">\r\n              {{ item.Post.Title }}\r\n            </div>\r\n            <div class=\"post-description tw-text-xs tw-text-gray-400 tw-mt-3\">\r\n              {{ item.Post.Description }}\r\n            </div>\r\n            <div class=\"info-user-post tw-text-gray-400 tw-text-xs tw-mt-3\">\r\n              <span class=\"user-name\">{{ item.Account.FullName }}</span>\r\n              <span class=\"post-time\">- {{ $commonFn.formatDate(new Date(item.Post.CreatedDate),'dd/MM/yyyy hh:mm') }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"reference tw-flex-1\">\r\n      <div class=\"product-of-post tw-bg-white tw-ml-6 tw-p-4\">\r\n        <div class=\"product-avatar tw-w-48 tw-h-48\">\r\n          <img class=\"tw-w-full tw-h-full\" :src=\"product.Avatar\" />\r\n        </div>\r\n        <div class=\"product-info\">\r\n          <div class=\"product-name tw-font-bold tw-text-blue-500\">\r\n            {{ product.ProductName }}\r\n          </div>\r\n          <div\r\n            class=\"view-detail tw-text-xs tw-text-blue-400 tw-cursor-pointer\"\r\n            @click=\"viewDetailProduct\"\r\n          >\r\n            Xem chi tiết\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"new-product-list tw-bg-white tw-ml-6 tw-p-4 tw-mt-6\">\r\n        <div\r\n          class=\"\r\n            list-title\r\n            tw-border-b-2\r\n            tw-border-gray-400\r\n            tw-border-solid\r\n            tw-text-gray-700\r\n            tw-font-semibold\r\n          \"\r\n        >\r\n          Sản phẩm mới\r\n        </div>\r\n        <div class=\"product-list\">\r\n          <div\r\n            class=\"\r\n              product\r\n              tw-flex\r\n              hover:tw-bg-gray-100\r\n              tw-cursor-pointer tw-mt-4\r\n            \"\r\n            v-for=\"(item,index) in newProductPosts\"\r\n            :key=\"index\"\r\n            @click=\"viewProductPost(item)\"\r\n          >\r\n            <div class=\"avatar-product tw-w-20 tw-h-20 tw-ml-3\">\r\n              <img class=\"tw-w-full tw-h-full\" :src=\"item.Product.Avatar\"/>\r\n            </div>\r\n            <div class=\"content-product tw-flex-1\">\r\n              <div class=\"product-name\">{{item.Product.ProductName}}</div>\r\n              <div class=\"post-quantity tw-text-xs tw-text-blue-400\">\r\n                {{item.PostQuantity}} bài viết\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div\r\n            class=\"\r\n              view-more\r\n              tw-text-xs\r\n              tw-text-blue-400\r\n              tw-text-center\r\n              tw-mt-3\r\n              tw-cursor-pointer\r\n            \"\r\n            @click=\"viewMoreProduct\"\r\n            v-if=\"newProductPosts.length<newProductTotal\"\r\n          >\r\n            Xem thêm\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageIndex: 1,\r\n      pageSize: 5,\r\n      pageIndexProduct:1,\r\n      pageSizeProduct:5\r\n    };\r\n  },\r\n  created() {\r\n    const me = this;\r\n    const params = {\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndex,\r\n      pageSize: me.pageSize,\r\n    };\r\n    me.getPostByProductID(params);\r\n    me.getProductByID(me.$route.query.product);\r\n    const paramNewProductPost={\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndexProduct,\r\n      pageSize: me.pageSizeProduct,\r\n    }\r\n    me.getNewProductPosts(paramNewProductPost)\r\n  },\r\n  computed: {\r\n    ...mapState(\"post\", [\"posts\",\"postTotal\"]),\r\n    ...mapState(\"product\", [\"product\",\"newProductPosts\",\"newProductTotal\",\"newPageTotal\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"post\", [\"getPostByProductID\"]),\r\n    ...mapActions(\"product\", [\"getProductByID\",\"getNewProductPosts\"]),\r\n    ...mapMutations(\"product\",[\"setNewProductPosts\"]),\r\n    viewDetailProduct() {\r\n      const me = this;\r\n      localStorage.setItem(\"Id_Product\", me.product.ProductID);\r\n      me.$router.push({\r\n        name: \"ProductDetail\",\r\n        params: { productMeta: me.product.Meta },\r\n      });\r\n    },\r\n    viewDetailPost(postID){\r\n      const me = this;\r\n      debugger\r\n      me.$router.push(`/post/${me.product.Meta}/${postID}`);\r\n    },\r\n    viewMoreProduct(){\r\n      const me=this\r\n      me.pageIndexProduct++\r\n      const params={\r\n      productID: me.$route.query.product,\r\n      pageIndex: me.pageIndexProduct,\r\n      pageSize: me.pageSizeProduct,\r\n    }\r\n    me.getNewProductPosts(params)\r\n    },\r\n    viewProductPost(product){\r\n      const me = this;\r\n      me.setNewProductPosts([])\r\n      me.$router.push({\r\n        path: \"/posts\",\r\n        query: {\r\n          product: product.Product.ProductID,\r\n        },\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.post-list-container{\r\n  .post-list-area{\r\n    .post-list{\r\n      .post{\r\n        .content-post{\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/client/components/post"}]}