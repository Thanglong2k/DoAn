{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\product-cart\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\client\\components\\product-cart\\index.vue","mtime":1655642065496},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\babel.config.js","mtime":1641193952525},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOlxcTmFtNFxcS2kyXFxEb0FuVG90TmdoaWVwXFxGRVxcZG9hbnRvdG5naGllcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTpcXE5hbTRcXEtpMlxcRG9BblRvdE5naGllcFxcRkVcXGRvYW50b3RuZ2hpZXBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJFOlxcTmFtNFxcS2kyXFxEb0FuVG90TmdoaWVwXFxGRVxcZG9hbnRvdG5naGllcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUHJvZHVjdENhcnQgZnJvbSAiQC9jb21wb25lbnRzL2NsaWVudC92aWV3cy9wcm9kdWN0LWNhcnQvcHJvZHVjdC1pbmZvLnZ1ZSI7CmltcG9ydCBFbXB0eUNhcnQgZnJvbSAiQC9jb21wb25lbnRzL2NsaWVudC92aWV3cy9wcm9kdWN0LWNhcnQvZGF0YS1lbXB0eS52dWUiOwppbXBvcnQgU3VjZXNzUG9wdXAgZnJvbSAiQC9jb21wb25lbnRzL2NsaWVudC92aWV3cy9wcm9kdWN0LWNhcnQvc3VjZXNzLXBvcHVwIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUHJvZHVjdENhcnQ6IFByb2R1Y3RDYXJ0LAogICAgRW1wdHlDYXJ0OiBFbXB0eUNhcnQsCiAgICBTdWNlc3NQb3B1cDogU3VjZXNzUG9wdXAKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbEZvcm06IHsKICAgICAgICBHZW5kZXI6IDAKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBGdWxsTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIkjDo3kgbmjhuq1wIHRow7RuZyB0aW4hIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1lc3NhZ2U6ICJUw6puIHThu5FpIHRoaeG7g3UgMyBrw60gdOG7sSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBQaG9uZU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIkjDo3kgbmjhuq1wIHRow7RuZyB0aW4hIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIEdlbmRlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIkjDo3kgbmjhuq1wIHRow7RuZyB0aW4hIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIEVtYWlsOiBbLy8ge3ZhbGlkYXRvcjp2YWxpZGF0ZUVtYWlsLHRyaWdnZXI6ICdibHVyJ30KICAgICAgICBdLAogICAgICAgIERlbGl2ZXJ5QWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIkjDo3kgbmjhuq1wIHRow7RuZyB0aW4hIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNob3dTdWNjZXNzOiBmYWxzZSwKICAgICAgcHJvZHVjdENhcnRTdWNjZXNzOiBudWxsLAogICAgICBoYXNDdXN0b21lcjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCJjYXJ0IiwgWyJwcm9kdWN0Q2FydCIsICJwcm9kdWN0Q2FydExlbmd0aCJdKSksIG1hcFN0YXRlKCJjdXN0b21lciIsIFsiY3VzdG9tZXIiXSkpLCB7fSwgewogICAgLyoqDQogICAgICogVOG7lW5nIHRp4buBbg0KICAgICAqLwogICAgcHJpY2VUb3RhbDogZnVuY3Rpb24gcHJpY2VUb3RhbCgpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgcmV0dXJuIG1lLnByb2R1Y3RDYXJ0LnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGN1cnJlbnQpIHsKICAgICAgICByZXR1cm4gdG90YWwgKyBjdXJyZW50LlByb2R1Y3RBdHRyaWJ1dGVzWzBdLlByaWNlICogY3VycmVudC5Qcm9kdWN0QXR0cmlidXRlc1swXS5RdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFThu5VuZyB0aeG7gW4NCiAgICAgKi8KICAgIHByb21vdGlvblByaWNlOiBmdW5jdGlvbiBwcm9tb3Rpb25QcmljZSgpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgcmV0dXJuIG1lLnByb2R1Y3RDYXJ0LnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGN1cnJlbnQpIHsKICAgICAgICByZXR1cm4gdG90YWwgKyBjdXJyZW50LlByb2R1Y3RBdHRyaWJ1dGVzWzBdLlByb21vdGlvblByaWNlICogY3VycmVudC5Qcm9kdWN0QXR0cmlidXRlc1swXS5RdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBtZSA9IHRoaXM7CgogICAgaWYgKG1lLnByb2R1Y3RDYXJ0Lmxlbmd0aCA9PT0gMCAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdENhcnQiKSAhPSAiIiAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdENhcnQiKSAhPSBudWxsKSB7CiAgICAgIG1lLnNldFByb2R1Y3RDYXJ0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInByb2R1Y3RDYXJ0IikpKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucygiY2FydCIsIFsic2V0UHJvZHVjdENhcnRMZW5ndGgiLCAic2V0UHJvZHVjdENhcnQiXSkpLCBtYXBBY3Rpb25zKCJvcmRlciIsIFsiaW5zZXJ0T3JkZXIiXSkpLCBtYXBBY3Rpb25zKCJjdXN0b21lciIsIFsiZ2V0Q3VzdG9tZXJCeVBob25lTnVtYmVyIiwgImluc2VydEN1c3RvbWVyIiwgInVwZGF0ZUN1c3RvbWVyIl0pKSwge30sIHsKICAgIG9yZGVyUHJvZHVjdDogZnVuY3Rpb24gb3JkZXJQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHZhbGlkKSB7CiAgICAgICAgICB2YXIgaCwgcGFyYW1DdXN0b21lciwgX2gsIHR5cGVDaGFuZ2UsIG1lc3NhZ2U7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGggPSBfdGhpcy4kY3JlYXRlRWxlbWVudDsgLy8gYXdhaXQgbWUuZ2V0Q3VzdG9tZXJCeVBob25lTnVtYmVyKHsKICAgICAgICAgICAgICAgICAgLy8gICBwaG9uZU51bWJlcjogbWUubW9kZWxGb3JtLlBob25lTnVtYmVyLAogICAgICAgICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChtZS5oYXNDdXN0b21lcikgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcGFyYW1DdXN0b21lciA9IHsKICAgICAgICAgICAgICAgICAgICBDdXN0b21lck5hbWU6IG1lLm1vZGVsRm9ybS5GdWxsTmFtZSwKICAgICAgICAgICAgICAgICAgICBFbWFpbDogbWUubW9kZWxGb3JtLkVtYWlsLAogICAgICAgICAgICAgICAgICAgIFBob25lTnVtYmVyOiBtZS5tb2RlbEZvcm0uUGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgR2VuZGVyOiBtZS5tb2RlbEZvcm0uR2VuZGVyID09PSAwID8gbWUuJGVudW1lcmF0aW9uLkdlbmRlci5NYWxlIDogbWUuJGVudW1lcmF0aW9uLkdlbmRlci5GZU1hbGUKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgX2ggPSBfdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICByZXR1cm4gbWUuaW5zZXJ0Q3VzdG9tZXIocGFyYW1DdXN0b21lcikudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUuZ2V0Q3VzdG9tZXJCeVBob25lTnVtYmVyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogbWUubW9kZWxGb3JtLlBob25lTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZS5pbnNlcnROZXdPcmRlcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfaCgiaSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAiY29sb3I6IHRlYWwiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbWUuJHQoIk5vdGlmeS5IYXNFcnJvciIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9oKCJpIiwgewogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogImNvbG9yOiB0ZWFsIgogICAgICAgICAgICAgICAgICAgICAgfSwgbWUuJHQoIk5vdGlmeS5IYXNFcnJvciIpKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgdHlwZUNoYW5nZSA9IDA7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiQuG6oW4gY8OzIG114buRbiBj4bqtcCBuaOG6rXQgdGjDtG5nIHRpbiI7CgogICAgICAgICAgICAgICAgICBpZiAobWUubW9kZWxGb3JtLkZ1bGxOYW1lICE9PSBtZS5jdXN0b21lci5DdXN0b21lck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICIgPGI+VMOqbiBraMOhY2ggaMOgbmc8L2I+LCI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChtZS5tb2RlbEZvcm0uR2VuZGVyICE9PSBOdW1iZXIobWUuY3VzdG9tZXIuR2VuZGVyKSkgewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gIiA8Yj5HaeG7m2kgdMOtbmg8L2I+LCI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChtZS5tb2RlbEZvcm0uRW1haWwgIT09IG1lLmN1c3RvbWVyLkVtYWlsKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAiIDxiPkVtYWlsPC9iPiwiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobWUubW9kZWxGb3JtLkZ1bGxOYW1lICE9PSBtZS5jdXN0b21lci5DdXN0b21lck5hbWUgfHwgbWUubW9kZWxGb3JtLkdlbmRlciAhPT0gTnVtYmVyKG1lLmN1c3RvbWVyLkdlbmRlcikgfHwgbWUubW9kZWxGb3JtLkVtYWlsICE9PSBtZS5jdXN0b21lci5FbWFpbCkgewogICAgICAgICAgICAgICAgICAgIHR5cGVDaGFuZ2UgPSAxOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zbGljZSgwLCBtZXNzYWdlLmxlbmd0aCAtIDEpOwogICAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICIgxJHDoyB0aGF5IMSR4buVaSBraMO0bmc/IjsKCiAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVDaGFuZ2UgPT09IDEpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvbmZpcm0obWVzc2FnZSwgIlRow7RuZyB0aW4iLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLEkOG7k25nIMO9IiwKICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiSOG7p3kiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUubW9kZWxGb3JtLkdlbmRlciA9ICEhbWUubW9kZWxGb3JtLkdlbmRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1lLmN1c3RvbWVyLkN1c3RvbWVySUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiBtZS5tb2RlbEZvcm0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUudXBkYXRlQ3VzdG9tZXIocGFyYW1zKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gX3RoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5NSVNBQ29kZSA9PT0gIk1JU0EtMDA0IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaCgiaSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogImNvbG9yOiB0ZWFsIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBtZS4kdCgiTm90aWZ5Lkhhc0Vycm9yIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZS5nZXRDdXN0b21lckJ5UGhvbmVOdW1iZXIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogbWUubW9kZWxGb3JtLlBob25lTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZS5pbnNlcnROZXdPcmRlcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IF90aGlzLiRjcmVhdGVFbGVtZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBoKCJpIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICJjb2xvcjogdGVhbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBtZS4kdCgiTm90aWZ5Lkhhc0Vycm9yIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKSk7CgogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICByZXR1cm4gbWUuaW5zZXJ0TmV3T3JkZXIoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgaW5zZXJ0TmV3T3JkZXI6IGZ1bmN0aW9uIGluc2VydE5ld09yZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBtZSwgaCwgcGFyYW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtZSA9IF90aGlzMjsKICAgICAgICAgICAgICAgIGggPSBfdGhpczIuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG9yZGVyOiB7CiAgICAgICAgICAgICAgICAgICAgQ3VzdG9tZXJJRDogbWUuY3VzdG9tZXIuQ3VzdG9tZXJJRCwKICAgICAgICAgICAgICAgICAgICBUb3RhbFByaWNlOiBtZS5wcm9tb3Rpb25QcmljZSwKICAgICAgICAgICAgICAgICAgICBEZWxpdmVyeUFkZHJlc3M6IG1lLm1vZGVsRm9ybS5EZWxpdmVyeUFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgTm90ZTogbWUubW9kZWxGb3JtLk5vdGUKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb3JkZXJEZXRhaWxzOiBfdG9Db25zdW1hYmxlQXJyYXkobWUucHJvZHVjdENhcnQubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgIFByb2R1Y3RBdHRyaWJ1dGVJRDogaXRlbS5Qcm9kdWN0QXR0cmlidXRlc1swXS5Qcm9kdWN0QXR0cmlidXRlSUQsCiAgICAgICAgICAgICAgICAgICAgICBRdWFudGl0eTogaXRlbS5Qcm9kdWN0QXR0cmlidXRlc1swXS5RdWFudGl0eSwKICAgICAgICAgICAgICAgICAgICAgIFVuaXRQcmljZTogaXRlbS5Qcm9kdWN0QXR0cmlidXRlc1swXS5Qcm9tb3Rpb25QcmljZSA/IGl0ZW0uUHJvZHVjdEF0dHJpYnV0ZXNbMF0uUHJvbW90aW9uUHJpY2UgOiBpdGVtLlByb2R1Y3RBdHRyaWJ1dGVzWzBdLlByaWNlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIG1lLmluc2VydE9yZGVyKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBtZS4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtZS4kdCgiTm90aWZ5LlN1Y2Nlc3MiKSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGgoImkiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAiY29sb3I6IHRlYWwiCiAgICAgICAgICAgICAgICAgICAgICB9LCBtZS4kdCgiTm90aWZ5Lkluc2VydFN1Y2Nlc3MiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogIsSRxqFuIGjDoG5nIgogICAgICAgICAgICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgbWUucHJvZHVjdENhcnRTdWNjZXNzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZS5wcm9kdWN0Q2FydCkpOwogICAgICAgICAgICAgICAgICAgIG1lLnNldFByb2R1Y3RDYXJ0KFtdKTsKICAgICAgICAgICAgICAgICAgICBtZS5zZXRQcm9kdWN0Q2FydExlbmd0aCgwKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicHJvZHVjdENhcnQiLCBKU09OLnN0cmluZ2lmeShbXSkpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcm9kdWN0Q2FydExlbmd0aCIsIDApOwogICAgICAgICAgICAgICAgICAgIG1lLnNob3dTdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBtZS4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5leHQiKTsKICAgICAgICAgICAgICAgICAgICAgIG1lLiRyZWZzLnBvcHVwLnNldE1vZGVsKHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG1lLiRub3RpZnkoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lLiR0KCJOb3RpZnkuRXJyb3IiKSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGgoImkiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAiY29sb3I6IHRlYWwiCiAgICAgICAgICAgICAgICAgICAgICB9LCBtZS4kdCgiTm90aWZ5Lkhhc0Vycm9yIikpLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBtZS4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogbWUuJHQoIk5vdGlmeS5FcnJvciIpLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGgoImkiLCB7CiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogImNvbG9yOiB0ZWFsIgogICAgICAgICAgICAgICAgICAgIH0sIG1lLiR0KCJOb3RpZnkuSGFzRXJyb3IiKSksCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZVBvcHVwOiBmdW5jdGlvbiBjbG9zZVBvcHVwKCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBtZS5zaG93U3VjY2VzcyA9IGZhbHNlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBN4bufIGZvcm0gdGhlbyBkw7VpIMSRxqFuIGjDoG5nDQogICAgICovCiAgICBvcGVuRm9sbG93T3JkZXI6IGZ1bmN0aW9uIG9wZW5Gb2xsb3dPcmRlcigpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUuJHJvdXRlci5wdXNoKCIvZm9sbG93LW9yZGVyIik7CiAgICB9LAogICAgY2hhbmdlUGhvbmVOdW1iZXI6IGZ1bmN0aW9uIGNoYW5nZVBob25lTnVtYmVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBtZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbWUgPSBfdGhpczM7CgogICAgICAgICAgICAgICAgaWYgKCEobWUubW9kZWxGb3JtLlBob25lTnVtYmVyIHx8IG1lLm1vZGVsRm9ybS5QaG9uZU51bWJlciAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIG1lLmdldEN1c3RvbWVyQnlQaG9uZU51bWJlcih7CiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBtZS5tb2RlbEZvcm0uUGhvbmVOdW1iZXIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAobWUuY3VzdG9tZXIpIHsKICAgICAgICAgICAgICAgICAgbWUubW9kZWxGb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZS5jdXN0b21lcikpOwogICAgICAgICAgICAgICAgICBtZS5tb2RlbEZvcm0uR2VuZGVyID0gbWUubW9kZWxGb3JtLkdlbmRlciA/IDEgOiAwOwogICAgICAgICAgICAgICAgICBtZS5tb2RlbEZvcm0uRnVsbE5hbWUgPSBtZS5tb2RlbEZvcm0uQ3VzdG9tZXJOYW1lOwogICAgICAgICAgICAgICAgICBtZS5oYXNDdXN0b21lciA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1lLmhhc0N1c3RvbWVyID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"cart tw-w-full\">\r\n    <div\r\n      class=\"cart-container tw-w-full tw-mx-auto tw-px-6 tw-bg-white tw-py-4\"\r\n      v-if=\"productCart && productCart.length > 0\"\r\n    >\r\n      <div class=\"cart-header tw-h-12 tw-flex tw-justify-between\">\r\n        <div class=\"header-left tw-text-xl tw-font-semibold\">\r\n          Có {{ productCart.length }} sản phẩm trong giỏ hàng\r\n        </div>\r\n        <div\r\n          class=\"\r\n            header-right\r\n            tw-text-sm tw-cursor-pointer\r\n            hover:tw-text-blue-500\r\n          \"\r\n          @click=\"openFollowOrder\"\r\n        >\r\n          Theo dõi đơn hàng của bạn\r\n        </div>\r\n      </div>\r\n      <div class=\"cart-body\">\r\n        <ProductCart\r\n          v-for=\"item in productCart\"\r\n          :key=\"item.ProductID\"\r\n          :dataItem=\"item\"\r\n        />\r\n        <div class=\"price-area tw-w-full\">\r\n          <div class=\"payment-total tw-p-4 tw-w-2/5 tw-ml-auto\">\r\n            <div class=\"price-total tw-mt-1 tw-flex tw-justify-between\">\r\n              <span>Tổng tiền:</span\r\n              ><span>{{ $commonFn.formatMoney(priceTotal.toString()) }}</span>\r\n            </div>\r\n            <div\r\n              class=\"promotion-price-total tw-mt-1 tw-flex tw-justify-between\"\r\n            >\r\n              <span>Giảm:</span\r\n              ><span>{{\r\n                promotionPrice !== 0\r\n                  ? \"- \" +\r\n                    $commonFn.formatMoney(\r\n                      (priceTotal - promotionPrice).toString()\r\n                    )\r\n                  : 0\r\n              }}</span>\r\n            </div>\r\n            <div\r\n              class=\"payment tw-mt-1 tw-flex tw-justify-between tw-font-bold\"\r\n            >\r\n              <span>Cần thanh toán:</span>\r\n              <span>{{\r\n                promotionPrice !== 0\r\n                  ? $commonFn.formatMoney(promotionPrice.toString())\r\n                  : $commonFn.formatMoney(priceTotal.toString())\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"order-form tw-w-4/5 tw-mt-6\">\r\n          <el-form\r\n            :model=\"modelForm\"\r\n            :rules=\"rules\"\r\n            ref=\"ruleForm\"\r\n            label-width=\"120px\"\r\n            label-position=\"top\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item prop=\"Gender\">\r\n              <el-radio-group v-model=\"modelForm.Gender\">\r\n                <el-radio :label=\"0\">Anh</el-radio>\r\n                <el-radio :label=\"1\">Chị</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <div class=\"tw-flex tw-justify-between\">\r\n              <el-form-item\r\n                class=\"tw-flex-1 tw-mr-4\"\r\n                :label=\"$t('Input.FullName')\"\r\n                prop=\"FullName\"\r\n              >\r\n                <el-input\r\n                  v-model=\"modelForm.FullName\"\r\n                  :placeholder=\"$t('Input.FullNameInput')\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item\r\n                class=\"tw-w-52\"\r\n                :label=\"$t('Input.PhoneNumber')\"\r\n                prop=\"PhoneNumber\"\r\n              >\r\n                <el-input\r\n                  v-model=\"modelForm.PhoneNumber\"\r\n                  :placeholder=\"$t('Input.PhoneNumberInput')\"\r\n                  @change=\"changePhoneNumber\"\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <el-form-item :label=\"$t('Input.Email')\" prop=\"Email\">\r\n              <el-input\r\n                v-model=\"modelForm.Email\"\r\n                :placeholder=\"$t('Input.EmailInput')\"\r\n              />\r\n            </el-form-item>\r\n            <el-form-item\r\n              :label=\"$t('Input.DeliveryAddress')\"\r\n              prop=\"DeliveryAddress\"\r\n            >\r\n              <el-input\r\n                v-model=\"modelForm.DeliveryAddress\"\r\n                :placeholder=\"$t('Input.DeliveryAddressInput')\"\r\n              />\r\n            </el-form-item>\r\n            <el-form-item :label=\"$t('Input.Note')\" prop=\"Note\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                v-model=\"modelForm.Note\"\r\n                :placeholder=\"$t('Input.NoteInput')\"\r\n              />\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <div class=\"cart-footer mt-4 tw-pt-5 tw-text-center\">\r\n        <el-button class=\"order-btn\" @click=\"orderProduct\"\r\n          >Hoàn tất đặt hàng</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n    <EmptyCart v-else />\r\n    <SucessPopup\r\n      :customer=\"customer\"\r\n      :productCart=\"productCartSuccess\"\r\n      ref=\"popup\"\r\n      v-if=\"showSuccess\"\r\n      @closePopup=\"closePopup\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductCart from \"@/components/client/views/product-cart/product-info.vue\";\r\nimport EmptyCart from \"@/components/client/views/product-cart/data-empty.vue\";\r\nimport SucessPopup from \"@/components/client/views/product-cart/sucess-popup\";\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    ProductCart,\r\n    EmptyCart,\r\n    SucessPopup,\r\n  },\r\n  data() {\r\n    return {\r\n      modelForm: {\r\n        Gender: 0,\r\n      },\r\n      rules: {\r\n        FullName: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n          { min: 3, message: \"Tên tối thiểu 3 kí tự\", trigger: \"blur\" },\r\n        ],\r\n        PhoneNumber: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        Gender: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n        Email: [\r\n          // {validator:validateEmail,trigger: 'blur'}\r\n        ],\r\n        DeliveryAddress: [\r\n          { required: true, message: \"Hãy nhập thông tin!\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      showSuccess: false,\r\n      productCartSuccess: null,\r\n      hasCustomer: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"cart\", [\"productCart\", \"productCartLength\"]),\r\n    ...mapState(\"customer\", [\"customer\"]),\r\n\r\n    /**\r\n     * Tổng tiền\r\n     */\r\n    priceTotal() {\r\n      const me = this;\r\n      return me.productCart.reduce((total, current) => {\r\n        return (\r\n          total +\r\n          current.ProductAttributes[0].Price *\r\n            current.ProductAttributes[0].Quantity\r\n        );\r\n      }, 0);\r\n    },\r\n    /**\r\n     * Tổng tiền\r\n     */\r\n    promotionPrice() {\r\n      const me = this;\r\n      return me.productCart.reduce((total, current) => {\r\n        return (\r\n          total +\r\n          current.ProductAttributes[0].PromotionPrice *\r\n            current.ProductAttributes[0].Quantity\r\n        );\r\n      }, 0);\r\n    },\r\n  },\r\n  created() {\r\n    const me = this;\r\n\r\n    if (\r\n      me.productCart.length === 0 &&\r\n      localStorage.getItem(\"productCart\") != \"\" &&\r\n      localStorage.getItem(\"productCart\") != null\r\n    ) {\r\n      me.setProductCart(JSON.parse(localStorage.getItem(\"productCart\")));\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"cart\", [\"setProductCartLength\", \"setProductCart\"]),\r\n    ...mapActions(\"order\", [\"insertOrder\"]),\r\n    ...mapActions(\"customer\", [\r\n      \"getCustomerByPhoneNumber\",\r\n      \"insertCustomer\",\r\n      \"updateCustomer\",\r\n    ]),\r\n    orderProduct() {\r\n      const me = this;\r\n      me.$refs[\"ruleForm\"].validate(async (valid) => {\r\n        if (valid) {\r\n          const h = this.$createElement;\r\n          // await me.getCustomerByPhoneNumber({\r\n          //   phoneNumber: me.modelForm.PhoneNumber,\r\n          // });\r\n\r\n          if (!me.hasCustomer) {\r\n            const paramCustomer = {\r\n              CustomerName: me.modelForm.FullName,\r\n              Email: me.modelForm.Email,\r\n              PhoneNumber: me.modelForm.PhoneNumber,\r\n              Gender:\r\n                me.modelForm.Gender === 0\r\n                  ? me.$enumeration.Gender.Male\r\n                  : me.$enumeration.Gender.FeMale,\r\n            };\r\n            const h = this.$createElement;\r\n            await me\r\n              .insertCustomer(paramCustomer)\r\n              .then(async (res) => {\r\n                if (res) {\r\n                  await me.getCustomerByPhoneNumber({\r\n                    phoneNumber: me.modelForm.PhoneNumber,\r\n                  });\r\n                  await me.insertNewOrder()\r\n                } else {\r\n                  this.$notify.error({\r\n                    title: me.$t(\"Notify.Error\"),\r\n                    message: h(\r\n                      \"i\",\r\n                      { style: \"color: teal\" },\r\n                      me.$t(\"Notify.HasError\")\r\n                    ),\r\n                  });\r\n                }\r\n              })\r\n              .catch((e) => {\r\n                this.$notify.error({\r\n                  title: me.$t(\"Notify.Error\"),\r\n                  message: h(\r\n                    \"i\",\r\n                    { style: \"color: teal\" },\r\n                    me.$t(\"Notify.HasError\")\r\n                  ),\r\n                });\r\n              });\r\n          } else {\r\n            let typeChange = 0;\r\n            let message = \"Bạn có muốn cập nhật thông tin\";\r\n            if (me.modelForm.FullName !== me.customer.CustomerName) {\r\n              message += \" <b>Tên khách hàng</b>,\";\r\n            }\r\n            if (me.modelForm.Gender !== Number(me.customer.Gender)) {\r\n              message += \" <b>Giới tính</b>,\";\r\n            }\r\n            if (me.modelForm.Email !== me.customer.Email) {\r\n              message += \" <b>Email</b>,\";\r\n            }\r\n            if (\r\n              me.modelForm.FullName !== me.customer.CustomerName ||\r\n              me.modelForm.Gender !== Number(me.customer.Gender) ||\r\n              me.modelForm.Email !== me.customer.Email\r\n            ) {\r\n              typeChange = 1;\r\n            }\r\n            message = message.slice(0, message.length - 1);\r\n            message += \" đã thay đổi không?\";\r\n            if (typeChange === 1) {\r\n              this.$confirm(message, \"Thông tin\", {\r\n                confirmButtonText: \"Đồng ý\",\r\n                cancelButtonText: \"Hủy\",\r\n                type: \"info\",\r\n                dangerouslyUseHTMLString: true,\r\n              }).then(async () => {\r\n                me.modelForm.Gender = !!me.modelForm.Gender;\r\n                const params = {\r\n                  id: me.customer.CustomerID,\r\n                  customer: me.modelForm,\r\n                };\r\n                await me\r\n                  .updateCustomer(params)\r\n                  .then(async (res) => {\r\n                    const h = this.$createElement;\r\n                    console.log(res);\r\n                    if (res.MISACode === \"MISA-004\") {\r\n                      this.$notify.error({\r\n                        title: me.$t(\"Notify.Error\"),\r\n                        message: h(\r\n                          \"i\",\r\n                          { style: \"color: teal\" },\r\n                          me.$t(\"Notify.HasError\")\r\n                        ),\r\n                      });\r\n                    } else {\r\n                      await me.getCustomerByPhoneNumber({\r\n                        phoneNumber: me.modelForm.PhoneNumber,\r\n                      });\r\n                      await me.insertNewOrder()\r\n                    }\r\n                  })\r\n                  .catch(() => {\r\n                    const h = this.$createElement;\r\n\r\n                    this.$notify.error({\r\n                      title: me.$t(\"Notify.Error\"),\r\n                      message: h(\r\n                        \"i\",\r\n                        { style: \"color: teal\" },\r\n                        me.$t(\"Notify.HasError\")\r\n                      ),\r\n                    });\r\n                  });\r\n              });\r\n            }else{\r\n              await me.insertNewOrder()\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    async insertNewOrder(){\r\n      const me=this\r\n      const h = this.$createElement;\r\n      var params = {\r\n                    order: {\r\n                      CustomerID: me.customer.CustomerID,\r\n                      TotalPrice: me.promotionPrice,\r\n                      DeliveryAddress: me.modelForm.DeliveryAddress,\r\n                      Note: me.modelForm.Note,\r\n                    },\r\n                    orderDetails: [\r\n                      ...me.productCart.map((item) => {\r\n                        return {\r\n                          ProductAttributeID:\r\n                            item.ProductAttributes[0].ProductAttributeID,\r\n                          Quantity: item.ProductAttributes[0].Quantity,\r\n                          UnitPrice: item.ProductAttributes[0].PromotionPrice\r\n                            ? item.ProductAttributes[0].PromotionPrice\r\n                            : item.ProductAttributes[0].Price,\r\n                        };\r\n                      }),\r\n                    ],\r\n                  };\r\n                  await me\r\n                    .insertOrder(params)\r\n                    .then((res) => {\r\n                      if (res) {\r\n                        me.$notify({\r\n                          title: me.$t(\"Notify.Success\"),\r\n                          message: h(\r\n                            \"i\",\r\n                            { style: \"color: teal\" },\r\n                            me.$t(\"Notify.InsertSuccess\", {\r\n                              object: \"đơn hàng\",\r\n                            })\r\n                          ),\r\n                          type: \"success\",\r\n                        });\r\n                        me.productCartSuccess = JSON.parse(\r\n                          JSON.stringify(me.productCart)\r\n                        );\r\n                        me.setProductCart([]);\r\n                        me.setProductCartLength(0);\r\n                        localStorage.setItem(\"productCart\", JSON.stringify([]));\r\n                        localStorage.setItem(\"productCartLength\", 0);\r\n                        me.showSuccess = true;\r\n                        me.$nextTick(() => {\r\n                          console.log(\"next\");\r\n                          me.$refs.popup.setModel(true);\r\n                        });\r\n                      } else {\r\n                        me.$notify({\r\n                          title: me.$t(\"Notify.Error\"),\r\n                          message: h(\r\n                            \"i\",\r\n                            { style: \"color: teal\" },\r\n                            me.$t(\"Notify.HasError\")\r\n                          ),\r\n                          type: \"error\",\r\n                        });\r\n                      }\r\n                    })\r\n                    .catch((e) => {\r\n                      me.$notify({\r\n                        title: me.$t(\"Notify.Error\"),\r\n                        message: h(\r\n                          \"i\",\r\n                          { style: \"color: teal\" },\r\n                          me.$t(\"Notify.HasError\")\r\n                        ),\r\n                        type: \"error\",\r\n                      });\r\n                    });\r\n    },\r\n\r\n    closePopup() {\r\n      const me = this;\r\n      me.showSuccess = false;\r\n    },\r\n    /**\r\n     * Mở form theo dõi đơn hàng\r\n     */\r\n    openFollowOrder() {\r\n      const me = this;\r\n      me.$router.push(\"/follow-order\");\r\n    },\r\n    async changePhoneNumber() {\r\n      const me = this;\r\n      if (me.modelForm.PhoneNumber || me.modelForm.PhoneNumber !== \"\") {\r\n        await me.getCustomerByPhoneNumber({\r\n          phoneNumber: me.modelForm.PhoneNumber,\r\n        });\r\n        if(me.customer){\r\n          me.modelForm = JSON.parse(JSON.stringify(me.customer));\r\n        me.modelForm.Gender = me.modelForm.Gender ? 1 : 0;\r\n        me.modelForm.FullName = me.modelForm.CustomerName;\r\n        me.hasCustomer = true;\r\n        }\r\n        \r\n      } else {\r\n        me.hasCustomer = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.order-btn {\r\n  @apply tw-bg-red-500 tw-text-white !important;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/mixins/mixins.scss\";\r\n\r\n.cart-container {\r\n  .cart-header {\r\n    border-bottom: $default-border;\r\n  }\r\n  .cart-body {\r\n    .order-form {\r\n      .fullname,\r\n      .phone-number {\r\n        width: calc(50% - 8px);\r\n      }\r\n    }\r\n    .price-area {\r\n      border-bottom: $default-border;\r\n      .payment-total {\r\n        font-size: 13px;\r\n      }\r\n    }\r\n  }\r\n  .cart-footer {\r\n    border-top: $default-border;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/client/components/product-cart"}]}