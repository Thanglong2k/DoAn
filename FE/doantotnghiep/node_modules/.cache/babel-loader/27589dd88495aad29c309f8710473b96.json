{"remainingRequest":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\receipts\\popup\\products-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\src\\components\\admin\\views\\receipts\\popup\\products-select.vue","mtime":1652496719240},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\babel.config.js","mtime":1641193952525},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Nam4\\Ki2\\DoAnTotNghiep\\FE\\doantotnghiep\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTpcXE5hbTRcXEtpMlxcRG9BblRvdE5naGllcFxcRkVcXGRvYW50b3RuZ2hpZXBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVsRGlhbG9nOiBmYWxzZSwKICAgICAgbW9kZWxGb3JtOiB7fSwKICAgICAgcHJldmlldzogbnVsbCwKICAgICAgcnVsZXM6IHt9LAogICAgICBwYWdlSW5kZXg6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgcGFnZVNpemVzOiBbMTAsIDIwLCAzMCwgNDBdLAogICAgICBzZWFyY2g6ICcnLAogICAgICBzZWxlY3RlZFByb2R1Y3RzOiBbXSwKICAgICAgaW5kZXhTZWxlY3RlZFByb2R1Y3RzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgncHJvZHVjdCcsIFsncHJvZHVjdHMnLCAncHJvZHVjdFRvdGFsJywgJ3BhZ2VUb3RhbCddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBtZS5nZXRQcm9kdWN0cyhtZS5wYWdlSW5kZXgsIG1lLnBhZ2VTaXplKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygncHJvZHVjdCcsIFsnZ2V0UHJvZHVjdEFuZFByb2R1Y3RBdHRyaWJ1dGUnXSkpLCB7fSwgewogICAgc2V0TW9kZWw6IGZ1bmN0aW9uIHNldE1vZGVsKHZhbHVlKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIG1lLm1vZGVsRGlhbG9nID0gdmFsdWU7CiAgICB9LAogICAgZ2V0UHJvZHVjdHM6IGZ1bmN0aW9uIGdldFByb2R1Y3RzKHBhZ2VJbmRleCwgcGFnZVNpemUpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCwKICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUKICAgICAgfTsKICAgICAgbWUuZ2V0UHJvZHVjdEFuZFByb2R1Y3RBdHRyaWJ1dGUocGFyYW1zKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBtZS5wYWdlU2l6ZSA9IHZhbDsKICAgICAgbWUuZ2V0UHJvZHVjdHMobWUucGFnZUluZGV4LCBtZS5wYWdlU2l6ZSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIG1lLmdldFByb2R1Y3RzKG1lLnBhZ2VJbmRleCwgbWUucGFnZVNpemUpOwogICAgfSwKICAgIHNlbGVjdFByb2R1Y3Q6IGZ1bmN0aW9uIHNlbGVjdFByb2R1Y3QocHJvZHVjdCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBtZS5zZWxlY3RlZFByb2R1Y3RzLnB1c2gocHJvZHVjdCk7CiAgICAgIG1lLmluZGV4U2VsZWN0ZWRQcm9kdWN0cy5wdXNoKHByb2R1Y3QuUHJvZHVjdEF0dHJpYnV0ZS5Qcm9kdWN0QXR0cmlidXRlSUQpOwogICAgfSwKICAgIGNhbmNlbFNlbGVjdFByb2R1Y3Q6IGZ1bmN0aW9uIGNhbmNlbFNlbGVjdFByb2R1Y3QocHJvZHVjdCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBtZS5zZWxlY3RlZFByb2R1Y3RzID0gbWUuc2VsZWN0ZWRQcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5Qcm9kdWN0QXR0cmlidXRlLlByb2R1Y3RJRCAhPT0gcHJvZHVjdC5Qcm9kdWN0QXR0cmlidXRlLlByb2R1Y3RJRCB8fCBpdGVtLlByb2R1Y3RBdHRyaWJ1dGUuUHJvZHVjdEF0dHJpYnV0ZUlEICE9PSBwcm9kdWN0LlByb2R1Y3RBdHRyaWJ1dGUuUHJvZHVjdEF0dHJpYnV0ZUlEOwogICAgICB9KTsKICAgICAgdmFyIGluZGV4SXRlbSA9IG1lLmluZGV4U2VsZWN0ZWRQcm9kdWN0cy5pbmRleE9mKHByb2R1Y3QuUHJvZHVjdEF0dHJpYnV0ZS5Qcm9kdWN0QXR0cmlidXRlSUQpOwogICAgICBtZS5pbmRleFNlbGVjdGVkUHJvZHVjdHMuc3BsaWNlKGluZGV4SXRlbSwgMSk7CiAgICB9LAogICAgY29tcGxldGVGaWxsOiBmdW5jdGlvbiBjb21wbGV0ZUZpbGwoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIG1lLiRlbWl0KCJzZXRTZWxlY3RlZFByb2R1Y3RzIiwgbWUuc2VsZWN0ZWRQcm9kdWN0cyk7CiAgICB9LAogICAgY2FuY2VsRmlsbDogZnVuY3Rpb24gY2FuY2VsRmlsbCgpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUuc2VsZWN0ZWRQcm9kdWN0cyA9IFtdOwogICAgICBtZS5pbmRleFNlbGVjdGVkUHJvZHVjdHMgPSBbXTsKICAgICAgbWUubW9kZWxEaWFsb2cgPSBmYWxzZTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["products-select.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog\r\n  class=\"dialog-container\"\r\n    ref=\"dialog\"\r\n    title=\"Chọn sản phẩm\"\r\n    width=\"600px\"\r\n    :lock-scroll=\"false\"\r\n    :visible.sync=\"modelDialog\"\r\n    @close=\"cancelFill\"\r\n  >\r\n    <template #default>\r\n      <el-form\r\n        :model=\"modelForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-width=\"130px\"\r\n        label-position=\"left\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item\r\n          v-for=\"(product,index) in products\"\r\n:key=\"index\"\r\n        >\r\n          <div class=\"product-item tw-flex tw-justify-between tw-w-full\">\r\n              <div class=\"left tw-flex\">\r\n\r\n                <div class=\"product-image\">\r\n                    <img :src=\"product.Product.Avatar\" width=\"100px\" height=\"100px\"/>\r\n                </div>\r\n                <div class=\"product-name\">{{product.Product.ProductName}}</div>\r\n                \r\n              </div>\r\n              <div class=\"right tw-flex\">\r\n                  <div class=\"product-memory tw-w-28 tw-text-center tw-font-semibold\">{{product.ProductAttribute.Memory+' GB'}}</div>\r\n                <el-button class=\"function tw-h-10\" v-if=\"indexSelectedProducts.includes(product.ProductAttribute.ProductAttributeID)\" @click=\"cancelSelectProduct(product)\">Bỏ chọn</el-button>\r\n                <el-button class=\"function tw-h-10\" v-else @click=\"selectProduct(product)\">Chọn</el-button>\r\n              </div>\r\n          </div>\r\n        </el-form-item>\r\n        \r\n          \r\n      </el-form>\r\n      \r\n    </template>\r\n    <template #footer>\r\n        <div class=\"paging\">\r\n            <el-pagination\r\n          class=\"tw-flex tw-justify-end tw-h-12 tw-items-center\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"pageIndex\"\r\n          :page-size=\"pageSize\"\r\n          :page-sizes=\"pageSizes\"\r\n          layout=\"total,sizes, prev, pager, next\"\r\n          :total=\"productTotal\"\r\n        >\r\n        </el-pagination>\r\n        </div>\r\n      <div class=\"button\">\r\n        <el-button @click=\"completeFill\" class=\"complete-btn\">{{\r\n          $t(\"Button.Complete\")\r\n        }}</el-button>\r\n        <el-button @click=\"cancelFill\" class=\"cancel-btn\">{{\r\n          $t(\"Button.Cancel\")\r\n        }}</el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapActions, mapMutations} from 'vuex'\r\nexport default {\r\ndata() {\r\n    return {\r\n      modelDialog: false,\r\n      modelForm: {},\r\n      preview:null,\r\n      rules: {},\r\n      pageIndex:1,\r\n      pageSize:10,\r\n      pageSizes:[10, 20, 30, 40],\r\n      search:'',\r\n      selectedProducts:[],\r\n      indexSelectedProducts:[],\r\n    };\r\n  },\r\n  computed:{\r\n      ...mapState('product',['products','productTotal','pageTotal'])\r\n  },\r\n  created(){\r\n      const me=this\r\n      \r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n  },\r\n  methods:{\r\n      ...mapActions('product',['getProductAndProductAttribute']),\r\n      setModel(value) {\r\n      const me = this;\r\n      me.modelDialog = value;\r\n    },\r\n    getProducts(pageIndex,pageSize){\r\n      const me=this\r\n      const params={\r\n        pageIndex:pageIndex,\r\n        pageSize:pageSize\r\n      }\r\n      me.getProductAndProductAttribute(params);\r\n    },\r\n    handleSizeChange(val) {\r\n      const me=this\r\n      me.pageSize=val\r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n    },\r\n    handleCurrentChange(val) {\r\n      const me=this\r\n      me.currentPage=val\r\n      me.getProducts(me.pageIndex,me.pageSize)\r\n    },\r\n    selectProduct(product){\r\n        const me=this\r\n        \r\n        me.selectedProducts.push(product)\r\n        me.indexSelectedProducts.push(product.ProductAttribute.ProductAttributeID)\r\n    },\r\n    cancelSelectProduct(product){\r\n        const me=this\r\n        \r\n        me.selectedProducts=me.selectedProducts.filter(item=>{\r\n            return item.ProductAttribute.ProductID!==product.ProductAttribute.ProductID||item.ProductAttribute.ProductAttributeID!==product.ProductAttribute.ProductAttributeID\r\n        })\r\n        var indexItem = me.indexSelectedProducts.indexOf(product.ProductAttribute.ProductAttributeID);\r\n        me.indexSelectedProducts.splice(indexItem,1)\r\n    },\r\n    completeFill(){\r\n        const me=this\r\n        me.$emit(\"setSelectedProducts\",me.selectedProducts)\r\n    },\r\n    cancelFill(){\r\n      const me=this\r\n\r\n      me.selectedProducts=[]\r\n      me.indexSelectedProducts=[]\r\n      me.modelDialog=false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep{\r\n    .el-dialog{\r\n        margin-top:5vh !important;\r\n        &__body{\r\n            height:560px;\r\n            overflow: auto;\r\n        }\r\n    }\r\n    .el-form-item__content{\r\n        margin-left: 0px !important;\r\n    }\r\n}\r\n.dialog-container{\r\n    \r\n}\r\n</style>"],"sourceRoot":"src/components/admin/views/receipts/popup"}]}